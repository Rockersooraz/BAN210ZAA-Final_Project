MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "August 07, 2022" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "23:05:47" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Score Log
Date:                August 07, 2022
Time:                23:05:47
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O3P6DD4D "D:\\BAN210PA\Workspaces\EMWS1\Neural\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O3P6DD4D new;
MPRINT(EM_DIAGRAM):   run;
22354      data work.outkey;
MPRINT(EM_DIAGRAM):    data work.outkey;
22355      set EMWS1.Neural_OUTKEY;
MPRINT(EM_DIAGRAM):   set EMWS1.Neural_OUTKEY;
22356      if upcase(ROLE) = 'HIDDEN';
MPRINT(EM_DIAGRAM):   if upcase(ROLE) = 'HIDDEN';
22357      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 46 observations read from the data set EMWS1.NEURAL_OUTKEY.
NOTE: The data set WORK.OUTKEY has 3 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

22358      filename emflow "D:\\BAN210PA\Workspaces\EMWS1\Neural\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):    filename emflow "D:\\BAN210PA\Workspaces\EMWS1\Neural\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Neural: Scoring DATA data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
22359      *------------------------------------------------------------*;
22360      * Neural: Scoring DATA data;
22361      *------------------------------------------------------------*;
22362      data EMWS1.Neural_TRAIN
22363      / view=EMWS1.Neural_TRAIN
22364      ;
MPRINT(EM_DIAGRAM):   data EMWS1.Neural_TRAIN / view=EMWS1.Neural_TRAIN ;
22365      set EMWS1.Trans_TRAIN
22366      ;
MPRINT(EM_DIAGRAM):   set EMWS1.Trans_TRAIN ;
22367      %inc emflow;
NOTE: %INCLUDE (level 1) file EMFLOW is file D:\\BAN210PA\Workspaces\EMWS1\Neural\EMFLOWSCORE.sas.
22368     +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
22369     +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
22370     +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
22371     +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
22372     + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
22373     + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
22374     + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
22375     + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
22376     + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
22377     + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
22378     + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
22379     +LENGTH _WARN_ $4
22380     +      F_class  $ 20
22381     +      I_class  $ 20
22382     +      U_class  $ 20
22383     +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_class $ 20 I_class $ 20 U_class $ 20 ;
22384     +      label S_REP_deg_malig = 'Standard: REP_deg_malig' ;
MPRINT(EM_DIAGRAM):   label S_REP_deg_malig = 'Standard: REP_deg_malig' ;
22385     +
22386     +      label age30_39 = 'Dummy: age=30-39' ;
MPRINT(EM_DIAGRAM):   label age30_39 = 'Dummy: age=30-39' ;
22387     +
22388     +      label age40_49 = 'Dummy: age=40-49' ;
MPRINT(EM_DIAGRAM):   label age40_49 = 'Dummy: age=40-49' ;
22389     +
22390     +      label age50_59 = 'Dummy: age=50-59' ;
MPRINT(EM_DIAGRAM):   label age50_59 = 'Dummy: age=50-59' ;
22391     +
22392     +      label age60_69 = 'Dummy: age=60-69' ;
MPRINT(EM_DIAGRAM):   label age60_69 = 'Dummy: age=60-69' ;
22393     +
22394     +      label breastleft = 'Dummy: breast=left' ;
MPRINT(EM_DIAGRAM):   label breastleft = 'Dummy: breast=left' ;
22395     +
22396     +      label breast_quad_ = 'Dummy: breast_quad=?' ;
MPRINT(EM_DIAGRAM):   label breast_quad_ = 'Dummy: breast_quad=?' ;
22397     +
22398     +      label breast_quadcentral = 'Dummy: breast_quad=central' ;
MPRINT(EM_DIAGRAM):   label breast_quadcentral = 'Dummy: breast_quad=central' ;
22399     +
22400     +      label breast_quadleft_low = 'Dummy: breast_quad=left_low' ;
MPRINT(EM_DIAGRAM):   label breast_quadleft_low = 'Dummy: breast_quad=left_low' ;
22401     +
22402     +      label breast_quadleft_up = 'Dummy: breast_quad=left_up' ;
MPRINT(EM_DIAGRAM):   label breast_quadleft_up = 'Dummy: breast_quad=left_up' ;
22403     +
22404     +      label breast_quadright_low = 'Dummy: breast_quad=right_low' ;
MPRINT(EM_DIAGRAM):   label breast_quadright_low = 'Dummy: breast_quad=right_low' ;
22405     +
22406     +      label inv_nodes0_2 = 'Dummy: inv_nodes=0-2' ;
MPRINT(EM_DIAGRAM):   label inv_nodes0_2 = 'Dummy: inv_nodes=0-2' ;
22407     +
22408     +      label inv_nodes15_17 = 'Dummy: inv_nodes=15-17' ;
MPRINT(EM_DIAGRAM):   label inv_nodes15_17 = 'Dummy: inv_nodes=15-17' ;
22409     +
22410     +      label inv_nodes24_26 = 'Dummy: inv_nodes=24-26' ;
MPRINT(EM_DIAGRAM):   label inv_nodes24_26 = 'Dummy: inv_nodes=24-26' ;
22411     +
22412     +      label inv_nodes44625 = 'Dummy: inv_nodes=44625' ;
MPRINT(EM_DIAGRAM):   label inv_nodes44625 = 'Dummy: inv_nodes=44625' ;
22413     +
22414     +      label inv_nodes44720 = 'Dummy: inv_nodes=44720' ;
MPRINT(EM_DIAGRAM):   label inv_nodes44720 = 'Dummy: inv_nodes=44720' ;
22415     +
22416     +      label irradiatno = 'Dummy: irradiat=no' ;
MPRINT(EM_DIAGRAM):   label irradiatno = 'Dummy: irradiat=no' ;
22417     +
22418     +      label menopausege40 = 'Dummy: menopause=ge40' ;
MPRINT(EM_DIAGRAM):   label menopausege40 = 'Dummy: menopause=ge40' ;
22419     +
22420     +      label menopauselt40 = 'Dummy: menopause=lt40' ;
MPRINT(EM_DIAGRAM):   label menopauselt40 = 'Dummy: menopause=lt40' ;
22421     +
22422     +      label node_caps_ = 'Dummy: node_caps=?' ;
MPRINT(EM_DIAGRAM):   label node_caps_ = 'Dummy: node_caps=?' ;
22423     +
22424     +      label node_capsno = 'Dummy: node_caps=no' ;
MPRINT(EM_DIAGRAM):   label node_capsno = 'Dummy: node_caps=no' ;
22425     +
22426     +      label tumor_size0_4 = 'Dummy: tumor_size=0-4' ;
MPRINT(EM_DIAGRAM):   label tumor_size0_4 = 'Dummy: tumor_size=0-4' ;
22427     +
22428     +      label tumor_size15_19 = 'Dummy: tumor_size=15-19' ;
MPRINT(EM_DIAGRAM):   label tumor_size15_19 = 'Dummy: tumor_size=15-19' ;
22429     +
22430     +      label tumor_size20_24 = 'Dummy: tumor_size=20-24' ;
MPRINT(EM_DIAGRAM):   label tumor_size20_24 = 'Dummy: tumor_size=20-24' ;
22431     +
22432     +      label tumor_size25_29 = 'Dummy: tumor_size=25-29' ;
MPRINT(EM_DIAGRAM):   label tumor_size25_29 = 'Dummy: tumor_size=25-29' ;
22433     +
22434     +      label tumor_size30_34 = 'Dummy: tumor_size=30-34' ;
MPRINT(EM_DIAGRAM):   label tumor_size30_34 = 'Dummy: tumor_size=30-34' ;
22435     +
22436     +      label tumor_size35_39 = 'Dummy: tumor_size=35-39' ;
MPRINT(EM_DIAGRAM):   label tumor_size35_39 = 'Dummy: tumor_size=35-39' ;
22437     +
22438     +      label tumor_size40_44 = 'Dummy: tumor_size=40-44' ;
MPRINT(EM_DIAGRAM):   label tumor_size40_44 = 'Dummy: tumor_size=40-44' ;
22439     +
22440     +      label tumor_size44690 = 'Dummy: tumor_size=44690' ;
MPRINT(EM_DIAGRAM):   label tumor_size44690 = 'Dummy: tumor_size=44690' ;
22441     +
22442     +      label tumor_size44848 = 'Dummy: tumor_size=44848' ;
MPRINT(EM_DIAGRAM):   label tumor_size44848 = 'Dummy: tumor_size=44848' ;
22443     +
22444     +      label tumor_size45_49 = 'Dummy: tumor_size=45-49' ;
MPRINT(EM_DIAGRAM):   label tumor_size45_49 = 'Dummy: tumor_size=45-49' ;
22445     +
22446     +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
22447     +
22448     +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
22449     +
22450     +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
22451     +
22452     +      label I_class = 'Into: class' ;
MPRINT(EM_DIAGRAM):   label I_class = 'Into: class' ;
22453     +
22454     +      label F_class = 'From: class' ;
MPRINT(EM_DIAGRAM):   label F_class = 'From: class' ;
22455     +
22456     +      label U_class = 'Unnormalized Into: class' ;
MPRINT(EM_DIAGRAM):   label U_class = 'Unnormalized Into: class' ;
22457     +
22458     +      label P_classrecurrence_events = 'Predicted: class=recurrence-events' ;
MPRINT(EM_DIAGRAM):   label P_classrecurrence_events = 'Predicted: class=recurrence-events' ;
22459     +
22460     +      label R_classrecurrence_events = 'Residual: class=recurrence-events' ;
MPRINT(EM_DIAGRAM):   label R_classrecurrence_events = 'Residual: class=recurrence-events' ;
22461     +
22462     +      label P_classno_recurrence_events =
22463     +'Predicted: class=no-recurrence-events' ;
MPRINT(EM_DIAGRAM):   label P_classno_recurrence_events = 'Predicted: class=no-recurrence-events' ;
22464     +
22465     +      label R_classno_recurrence_events =
22466     +'Residual: class=no-recurrence-events' ;
MPRINT(EM_DIAGRAM):   label R_classno_recurrence_events = 'Residual: class=no-recurrence-events' ;
22467     +
22468     +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
22469     +
22470     +*** Generate dummy variables for age ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for age ;
22471     +drop age30_39 age40_49 age50_59 age60_69 ;
MPRINT(EM_DIAGRAM):   drop age30_39 age40_49 age50_59 age60_69 ;
22472     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
22473     +age30_39 = 0;
MPRINT(EM_DIAGRAM):   age30_39 = 0;
22474     +age40_49 = 0;
MPRINT(EM_DIAGRAM):   age40_49 = 0;
22475     +age50_59 = 0;
MPRINT(EM_DIAGRAM):   age50_59 = 0;
22476     +age60_69 = 0;
MPRINT(EM_DIAGRAM):   age60_69 = 0;
22477     +if missing( age ) then do;
MPRINT(EM_DIAGRAM):   if missing( age ) then do;
22478     +   age30_39 = .;
MPRINT(EM_DIAGRAM):   age30_39 = .;
22479     +   age40_49 = .;
MPRINT(EM_DIAGRAM):   age40_49 = .;
22480     +   age50_59 = .;
MPRINT(EM_DIAGRAM):   age50_59 = .;
22481     +   age60_69 = .;
MPRINT(EM_DIAGRAM):   age60_69 = .;
22482     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
22483     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22484     +end;
MPRINT(EM_DIAGRAM):   end;
22485     +else do;
MPRINT(EM_DIAGRAM):   else do;
22486     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
22487     +   _dm5 = put( age , $5. );
MPRINT(EM_DIAGRAM):   _dm5 = put( age , $5. );
22488     +   %DMNORMIP( _dm5 )
MPRINT(DMNORMIP):   call dmnorm(_dm5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
MPRINT(EM_DIAGRAM):   if _dm5 <= '50-59' then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '40-49' then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '30-39' then do;
MPRINT(EM_DIAGRAM):   age30_39 = 1;
22489     +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22490     +   if _dm5 <= '50-59'  then do;
MPRINT(EM_DIAGRAM):   end;
22491     +      if _dm5 <= '40-49'  then do;
22492     +         if _dm5 = '30-39'  then do;
MPRINT(EM_DIAGRAM):   else do;
22493     +            age30_39 = 1;
MPRINT(EM_DIAGRAM):   if _dm5 = '40-49' then do;
22494     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   age40_49 = 1;
22495     +         end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22496     +         else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22497     +            if _dm5 = '40-49'  then do;
MPRINT(EM_DIAGRAM):   end;
22498     +               age40_49 = 1;
22499     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   else do;
22500     +            end;
MPRINT(EM_DIAGRAM):   if _dm5 = '50-59' then do;
22501     +         end;
MPRINT(EM_DIAGRAM):   age50_59 = 1;
22502     +      end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22503     +      else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22504     +         if _dm5 = '50-59'  then do;
MPRINT(EM_DIAGRAM):   end;
22505     +            age50_59 = 1;
22506     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   else do;
22507     +         end;
MPRINT(EM_DIAGRAM):   if _dm5 = '60-69' then do;
22508     +      end;
MPRINT(EM_DIAGRAM):   age60_69 = 1;
22509     +   end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22510     +   else do;
MPRINT(EM_DIAGRAM):   end;
22511     +      if _dm5 = '60-69'  then do;
MPRINT(EM_DIAGRAM):   else do;
22512     +         age60_69 = 1;
MPRINT(EM_DIAGRAM):   if _dm5 = '70-79' then do;
22513     +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   age30_39 = -1;
22514     +      end;
MPRINT(EM_DIAGRAM):   age40_49 = -1;
22515     +      else do;
MPRINT(EM_DIAGRAM):   age50_59 = -1;
MPRINT(EM_DIAGRAM):   age60_69 = -1;
22516     +         if _dm5 = '70-79'  then do;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22517     +            age30_39 = -1;
MPRINT(EM_DIAGRAM):   end;
22518     +            age40_49 = -1;
MPRINT(EM_DIAGRAM):   end;
22519     +            age50_59 = -1;
MPRINT(EM_DIAGRAM):   end;
22520     +            age60_69 = -1;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
22521     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   age30_39 = .;
22522     +         end;
MPRINT(EM_DIAGRAM):   age40_49 = .;
22523     +      end;
MPRINT(EM_DIAGRAM):   age50_59 = .;
22524     +   end;
MPRINT(EM_DIAGRAM):   age60_69 = .;
22525     +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
22526     +      age30_39 = .;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22527     +      age40_49 = .;
MPRINT(EM_DIAGRAM):   end;
22528     +      age50_59 = .;
MPRINT(EM_DIAGRAM):   end;
22529     +      age60_69 = .;
22530     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for breast ;
22531     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop breastleft ;
22532     +   end;
MPRINT(EM_DIAGRAM):   if missing( breast ) then do;
22533     +end;
MPRINT(EM_DIAGRAM):   breastleft = .;
22534     +
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
22535     +*** Generate dummy variables for breast ;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22536     +drop breastleft ;
MPRINT(EM_DIAGRAM):   end;
22537     +if missing( breast ) then do;
22538     +   breastleft = .;
MPRINT(EM_DIAGRAM):   else do;
22539     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
22540     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
22541     +end;
MPRINT(EM_DIAGRAM):   _dm5 = put( breast , $5. );
22542     +else do;
22543     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(DMNORMIP):   call dmnorm(_dm5,
22544     +   _dm5 = put( breast , $5. );
22545     +   %DMNORMIP( _dm5 )
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):   if _dm5 = 'LEFT' then do;
MPRINT(EM_DIAGRAM):   breastleft = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if _dm5 = 'RIGHT' then do;
22546     +   if _dm5 = 'LEFT'  then do;
MPRINT(EM_DIAGRAM):   breastleft = -1;
22547     +      breastleft = 1;
MPRINT(EM_DIAGRAM):   end;
22548     +   end;
22549     +   else if _dm5 = 'RIGHT'  then do;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   breastleft = .;
22550     +      breastleft = -1;
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
22551     +   end;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22552     +   else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22553     +      breastleft = .;
22554     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for breast_quad ;
22555     +      _DM_BAD = 1;
22556     +   end;
MPRINT(EM_DIAGRAM):   drop breast_quad_ breast_quadcentral breast_quadleft_low breast_quadleft_up breast_quadright_low ;
22557     +end;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
22558     +
MPRINT(EM_DIAGRAM):   breast_quad_ = 0;
22559     +*** Generate dummy variables for breast_quad ;
MPRINT(EM_DIAGRAM):   breast_quadcentral = 0;
22560     +drop breast_quad_ breast_quadcentral breast_quadleft_low breast_quadleft_up
MPRINT(EM_DIAGRAM):   breast_quadleft_low = 0;
22561     +        breast_quadright_low ;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = 0;
22562     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   breast_quadright_low = 0;
22563     +breast_quad_ = 0;
MPRINT(EM_DIAGRAM):   if missing( breast_quad ) then do;
22564     +breast_quadcentral = 0;
MPRINT(EM_DIAGRAM):   breast_quad_ = .;
22565     +breast_quadleft_low = 0;
MPRINT(EM_DIAGRAM):   breast_quadcentral = .;
22566     +breast_quadleft_up = 0;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = .;
22567     +breast_quadright_low = 0;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = .;
22568     +if missing( breast_quad ) then do;
MPRINT(EM_DIAGRAM):   breast_quadright_low = .;
22569     +   breast_quad_ = .;
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
22570     +   breast_quadcentral = .;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22571     +   breast_quadleft_low = .;
MPRINT(EM_DIAGRAM):   end;
22572     +   breast_quadleft_up = .;
22573     +   breast_quadright_low = .;
MPRINT(EM_DIAGRAM):   else do;
22574     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   length _dm9 $ 9;
22575     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop _dm9 ;
22576     +end;
22577     +else do;
22578     +   length _dm9 $ 9; drop _dm9 ;
22579     +   %DMNORMCP( breast_quad , _dm9 )
MPRINT(DMNORMCP):   _dm9=dmnorm(breast_quad,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):   if _dm9 = 'LEFT_LOW' then do;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'LEFT_UP' then do;
22580     +   if _dm9 = 'LEFT_LOW'  then do;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = 1;
22581     +      breast_quadleft_low = 1;
MPRINT(EM_DIAGRAM):   end;
22582     +   end;
22583     +   else if _dm9 = 'LEFT_UP'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'RIGHT_UP' then do;
MPRINT(EM_DIAGRAM):   breast_quad_ = -1;
22584     +      breast_quadleft_up = 1;
MPRINT(EM_DIAGRAM):   breast_quadcentral = -1;
22585     +   end;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = -1;
22586     +   else if _dm9 = 'RIGHT_UP'  then do;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = -1;
MPRINT(EM_DIAGRAM):   breast_quadright_low = -1;
22587     +      breast_quad_ = -1;
MPRINT(EM_DIAGRAM):   end;
22588     +      breast_quadcentral = -1;
22589     +      breast_quadleft_low = -1;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'CENTRAL' then do;
22590     +      breast_quadleft_up = -1;
MPRINT(EM_DIAGRAM):   breast_quadcentral = 1;
22591     +      breast_quadright_low = -1;
MPRINT(EM_DIAGRAM):   end;
22592     +   end;
22593     +   else if _dm9 = 'CENTRAL'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'RIGHT_LOW' then do;
MPRINT(EM_DIAGRAM):   breast_quadright_low = 1;
22594     +      breast_quadcentral = 1;
MPRINT(EM_DIAGRAM):   end;
22595     +   end;
22596     +   else if _dm9 = 'RIGHT_LOW'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = '?' then do;
MPRINT(EM_DIAGRAM):   breast_quad_ = 1;
22597     +      breast_quadright_low = 1;
MPRINT(EM_DIAGRAM):   end;
22598     +   end;
22599     +   else if _dm9 = '?'  then do;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   breast_quad_ = .;
22600     +      breast_quad_ = 1;
MPRINT(EM_DIAGRAM):   breast_quadcentral = .;
22601     +   end;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = .;
22602     +   else do;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = .;
MPRINT(EM_DIAGRAM):   breast_quadright_low = .;
22603     +      breast_quad_ = .;
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
22604     +      breast_quadcentral = .;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22605     +      breast_quadleft_low = .;
MPRINT(EM_DIAGRAM):   end;
22606     +      breast_quadleft_up = .;
MPRINT(EM_DIAGRAM):   end;
22607     +      breast_quadright_low = .;
22608     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for inv_nodes ;
22609     +      _DM_BAD = 1;
22610     +   end;
MPRINT(EM_DIAGRAM):   drop inv_nodes0_2 inv_nodes15_17 inv_nodes24_26 inv_nodes44625 inv_nodes44720 ;
22611     +end;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
22612     +
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = 0;
22613     +*** Generate dummy variables for inv_nodes ;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = 0;
22614     +drop inv_nodes0_2 inv_nodes15_17 inv_nodes24_26 inv_nodes44625 inv_nodes44720
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = 0;
22615     +        ;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = 0;
22616     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = 0;
22617     +inv_nodes0_2 = 0;
MPRINT(EM_DIAGRAM):   if missing( inv_nodes ) then do;
22618     +inv_nodes15_17 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = .;
22619     +inv_nodes24_26 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = .;
22620     +inv_nodes44625 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = .;
22621     +inv_nodes44720 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = .;
22622     +if missing( inv_nodes ) then do;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = .;
22623     +   inv_nodes0_2 = .;
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
22624     +   inv_nodes15_17 = .;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22625     +   inv_nodes24_26 = .;
MPRINT(EM_DIAGRAM):   end;
22626     +   inv_nodes44625 = .;
22627     +   inv_nodes44720 = .;
MPRINT(EM_DIAGRAM):   else do;
22628     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
22629     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
22630     +end;
MPRINT(EM_DIAGRAM):   _dm5 = put( inv_nodes , $5. );
22631     +else do;
22632     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(DMNORMIP):   call dmnorm(_dm5,
22633     +   _dm5 = put( inv_nodes , $5. );
22634     +   %DMNORMIP( _dm5 )
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):   if _dm5 = '0-2' then do;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if _dm5 = '44625' then do;
22635     +   if _dm5 = '0-2'  then do;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = 1;
22636     +      inv_nodes0_2 = 1;
MPRINT(EM_DIAGRAM):   end;
22637     +   end;
22638     +   else if _dm5 = '44625'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '15-17' then do;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = 1;
22639     +      inv_nodes44625 = 1;
MPRINT(EM_DIAGRAM):   end;
22640     +   end;
22641     +   else if _dm5 = '15-17'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '44815' then do;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = -1;
22642     +      inv_nodes15_17 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = -1;
22643     +   end;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = -1;
22644     +   else if _dm5 = '44815'  then do;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = -1;
22645     +      inv_nodes0_2 = -1;
MPRINT(EM_DIAGRAM):   end;
22646     +      inv_nodes15_17 = -1;
22647     +      inv_nodes24_26 = -1;
MPRINT(EM_DIAGRAM):   else if _dm5 = '44720' then do;
22648     +      inv_nodes44625 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = 1;
22649     +      inv_nodes44720 = -1;
MPRINT(EM_DIAGRAM):   end;
22650     +   end;
22651     +   else if _dm5 = '44720'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '24-26' then do;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = 1;
22652     +      inv_nodes44720 = 1;
MPRINT(EM_DIAGRAM):   end;
22653     +   end;
22654     +   else if _dm5 = '24-26'  then do;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = .;
22655     +      inv_nodes24_26 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = .;
22656     +   end;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = .;
22657     +   else do;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = .;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = .;
22658     +      inv_nodes0_2 = .;
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
22659     +      inv_nodes15_17 = .;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22660     +      inv_nodes24_26 = .;
MPRINT(EM_DIAGRAM):   end;
22661     +      inv_nodes44625 = .;
MPRINT(EM_DIAGRAM):   end;
22662     +      inv_nodes44720 = .;
22663     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for irradiat ;
22664     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop irradiatno ;
22665     +   end;
MPRINT(EM_DIAGRAM):   if missing( irradiat ) then do;
22666     +end;
MPRINT(EM_DIAGRAM):   irradiatno = .;
22667     +
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
22668     +*** Generate dummy variables for irradiat ;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22669     +drop irradiatno ;
MPRINT(EM_DIAGRAM):   end;
22670     +if missing( irradiat ) then do;
22671     +   irradiatno = .;
MPRINT(EM_DIAGRAM):   else do;
22672     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   length _dm3 $ 3;
22673     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop _dm3 ;
22674     +end;
MPRINT(EM_DIAGRAM):   _dm3 = put( irradiat , $3. );
22675     +else do;
22676     +   length _dm3 $ 3; drop _dm3 ;
MPRINT(DMNORMIP):   call dmnorm(_dm3,
22677     +   _dm3 = put( irradiat , $3. );
22678     +   %DMNORMIP( _dm3 )
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):   if _dm3 = 'NO' then do;
MPRINT(EM_DIAGRAM):   irradiatno = 1;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   else if _dm3 = 'YES' then do;
22679     +   if _dm3 = 'NO'  then do;
MPRINT(EM_DIAGRAM):   irradiatno = -1;
22680     +      irradiatno = 1;
MPRINT(EM_DIAGRAM):   end;
22681     +   end;
22682     +   else if _dm3 = 'YES'  then do;
MPRINT(EM_DIAGRAM):   else do;
MPRINT(EM_DIAGRAM):   irradiatno = .;
22683     +      irradiatno = -1;
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
22684     +   end;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22685     +   else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22686     +      irradiatno = .;
22687     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for menopause ;
22688     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop menopausege40 menopauselt40 ;
22689     +   end;
MPRINT(EM_DIAGRAM):   if missing( menopause ) then do;
22690     +end;
MPRINT(EM_DIAGRAM):   menopausege40 = .;
22691     +
MPRINT(EM_DIAGRAM):   menopauselt40 = .;
22692     +*** Generate dummy variables for menopause ;
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
22693     +drop menopausege40 menopauselt40 ;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22694     +if missing( menopause ) then do;
MPRINT(EM_DIAGRAM):   end;
22695     +   menopausege40 = .;
22696     +   menopauselt40 = .;
MPRINT(EM_DIAGRAM):   else do;
22697     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   length _dm7 $ 7;
22698     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop _dm7 ;
22699     +end;
MPRINT(EM_DIAGRAM):   _dm7 = put( menopause , $7. );
22700     +else do;
22701     +   length _dm7 $ 7; drop _dm7 ;
MPRINT(DMNORMIP):   call dmnorm(_dm7,
22702     +   _dm7 = put( menopause , $7. );
22703     +   %DMNORMIP( _dm7 )
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):   if _dm7 = 'PREMENO' then do;
MPRINT(EM_DIAGRAM):   menopausege40 = -1;
MPRINT(EM_DIAGRAM):   menopauselt40 = -1;
MPRINT(EM_DIAGRAM):   end;
22704     +   if _dm7 = 'PREMENO'  then do;
MPRINT(EM_DIAGRAM):   else if _dm7 = 'GE40' then do;
22705     +      menopausege40 = -1;
MPRINT(EM_DIAGRAM):   menopausege40 = 1;
22706     +      menopauselt40 = -1;
MPRINT(EM_DIAGRAM):   menopauselt40 = 0;
22707     +   end;
MPRINT(EM_DIAGRAM):   end;
22708     +   else if _dm7 = 'GE40'  then do;
MPRINT(EM_DIAGRAM):   else if _dm7 = 'LT40' then do;
22709     +      menopausege40 = 1;
MPRINT(EM_DIAGRAM):   menopausege40 = 0;
22710     +      menopauselt40 = 0;
MPRINT(EM_DIAGRAM):   menopauselt40 = 1;
22711     +   end;
MPRINT(EM_DIAGRAM):   end;
22712     +   else if _dm7 = 'LT40'  then do;
MPRINT(EM_DIAGRAM):   else do;
22713     +      menopausege40 = 0;
MPRINT(EM_DIAGRAM):   menopausege40 = .;
22714     +      menopauselt40 = 1;
MPRINT(EM_DIAGRAM):   menopauselt40 = .;
22715     +   end;
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
22716     +   else do;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   end;
22717     +      menopausege40 = .;
MPRINT(EM_DIAGRAM):   end;
22718     +      menopauselt40 = .;
22719     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for node_caps ;
22720     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop node_caps_ node_capsno ;
22721     +   end;
MPRINT(EM_DIAGRAM):   if missing( node_caps ) then do;
22722     +end;
MPRINT(EM_DIAGRAM):   node_caps_ = .;
22723     +
MPRINT(EM_DIAGRAM):   node_capsno = .;
22724     +*** Generate dummy variables for node_caps ;
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
22725     +drop node_caps_ node_capsno ;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22726     +if missing( node_caps ) then do;
MPRINT(EM_DIAGRAM):   end;
22727     +   node_caps_ = .;
22728     +   node_capsno = .;
MPRINT(EM_DIAGRAM):   else do;
22729     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   length _dm3 $ 3;
22730     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop _dm3 ;
22731     +end;
22732     +else do;
22733     +   length _dm3 $ 3; drop _dm3 ;
MPRINT(DMNORMCP):   _dm3=dmnorm(node_caps,
22734     +   %DMNORMCP( node_caps , _dm3 )
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):   if _dm3 = 'NO' then do;
MPRINT(EM_DIAGRAM):   node_caps_ = 0;
MPRINT(EM_DIAGRAM):   node_capsno = 1;
MPRINT(EM_DIAGRAM):   end;
22735     +   if _dm3 = 'NO'  then do;
MPRINT(EM_DIAGRAM):   else if _dm3 = 'YES' then do;
22736     +      node_caps_ = 0;
MPRINT(EM_DIAGRAM):   node_caps_ = -1;
22737     +      node_capsno = 1;
MPRINT(EM_DIAGRAM):   node_capsno = -1;
22738     +   end;
MPRINT(EM_DIAGRAM):   end;
22739     +   else if _dm3 = 'YES'  then do;
MPRINT(EM_DIAGRAM):   else if _dm3 = '?' then do;
22740     +      node_caps_ = -1;
MPRINT(EM_DIAGRAM):   node_caps_ = 1;
22741     +      node_capsno = -1;
MPRINT(EM_DIAGRAM):   node_capsno = 0;
22742     +   end;
MPRINT(EM_DIAGRAM):   end;
22743     +   else if _dm3 = '?'  then do;
MPRINT(EM_DIAGRAM):   else do;
22744     +      node_caps_ = 1;
MPRINT(EM_DIAGRAM):   node_caps_ = .;
22745     +      node_capsno = 0;
MPRINT(EM_DIAGRAM):   node_capsno = .;
22746     +   end;
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
22747     +   else do;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   end;
22748     +      node_caps_ = .;
MPRINT(EM_DIAGRAM):   end;
22749     +      node_capsno = .;
22750     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for tumor_size ;
22751     +      _DM_BAD = 1;
22752     +   end;
22753     +end;
MPRINT(EM_DIAGRAM):   drop tumor_size0_4 tumor_size15_19 tumor_size20_24 tumor_size25_29 tumor_size30_34 tumor_size35_39 tumor_size40_44 tumor_size44690 tumor_size44848 tumor_size45_49 ;
22754     +
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
22755     +*** Generate dummy variables for tumor_size ;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = 0;
22756     +drop tumor_size0_4 tumor_size15_19 tumor_size20_24 tumor_size25_29
MPRINT(EM_DIAGRAM):   tumor_size15_19 = 0;
22757     +        tumor_size30_34 tumor_size35_39 tumor_size40_44 tumor_size44690
MPRINT(EM_DIAGRAM):   tumor_size20_24 = 0;
22758     +        tumor_size44848 tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = 0;
22759     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = 0;
22760     +tumor_size0_4 = 0;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = 0;
22761     +tumor_size15_19 = 0;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = 0;
22762     +tumor_size20_24 = 0;
MPRINT(EM_DIAGRAM):   tumor_size44690 = 0;
22763     +tumor_size25_29 = 0;
MPRINT(EM_DIAGRAM):   tumor_size44848 = 0;
22764     +tumor_size30_34 = 0;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = 0;
22765     +tumor_size35_39 = 0;
MPRINT(EM_DIAGRAM):   if missing( tumor_size ) then do;
22766     +tumor_size40_44 = 0;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = .;
22767     +tumor_size44690 = 0;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = .;
22768     +tumor_size44848 = 0;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = .;
22769     +tumor_size45_49 = 0;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = .;
22770     +if missing( tumor_size ) then do;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = .;
22771     +   tumor_size0_4 = .;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = .;
22772     +   tumor_size15_19 = .;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = .;
22773     +   tumor_size20_24 = .;
MPRINT(EM_DIAGRAM):   tumor_size44690 = .;
22774     +   tumor_size25_29 = .;
MPRINT(EM_DIAGRAM):   tumor_size44848 = .;
22775     +   tumor_size30_34 = .;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = .;
22776     +   tumor_size35_39 = .;
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
22777     +   tumor_size40_44 = .;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22778     +   tumor_size44690 = .;
MPRINT(EM_DIAGRAM):   end;
22779     +   tumor_size44848 = .;
22780     +   tumor_size45_49 = .;
MPRINT(EM_DIAGRAM):   else do;
22781     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
22782     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
22783     +end;
22784     +else do;
22785     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(DMNORMCP):   _dm5=dmnorm(tumor_size,
22786     +   %DMNORMCP( tumor_size , _dm5 )
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
MPRINT(EM_DIAGRAM):   if _dm5 <= '35-39' then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '20-24' then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '15-19' then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '0-4' then do;
22787     +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = 1;
22788     +   if _dm5 <= '35-39'  then do;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22789     +      if _dm5 <= '20-24'  then do;
MPRINT(EM_DIAGRAM):   end;
22790     +         if _dm5 <= '15-19'  then do;
22791     +            if _dm5 = '0-4'  then do;
MPRINT(EM_DIAGRAM):   else do;
22792     +               tumor_size0_4 = 1;
MPRINT(EM_DIAGRAM):   if _dm5 = '15-19' then do;
22793     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = 1;
22794     +            end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22795     +            else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22796     +               if _dm5 = '15-19'  then do;
MPRINT(EM_DIAGRAM):   end;
22797     +                  tumor_size15_19 = 1;
22798     +                  _dm_find = 1;
MPRINT(EM_DIAGRAM):   else do;
22799     +               end;
MPRINT(EM_DIAGRAM):   if _dm5 = '20-24' then do;
22800     +            end;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = 1;
22801     +         end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22802     +         else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22803     +            if _dm5 = '20-24'  then do;
MPRINT(EM_DIAGRAM):   end;
22804     +               tumor_size20_24 = 1;
22805     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   else do;
22806     +            end;
MPRINT(EM_DIAGRAM):   if _dm5 <= '30-34' then do;
22807     +         end;
MPRINT(EM_DIAGRAM):   if _dm5 = '25-29' then do;
22808     +      end;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = 1;
22809     +      else do;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
MPRINT(EM_DIAGRAM):   end;
22810     +         if _dm5 <= '30-34'  then do;
22811     +            if _dm5 = '25-29'  then do;
MPRINT(EM_DIAGRAM):   else do;
22812     +               tumor_size25_29 = 1;
MPRINT(EM_DIAGRAM):   if _dm5 = '30-34' then do;
22813     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = 1;
22814     +            end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22815     +            else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22816     +               if _dm5 = '30-34'  then do;
MPRINT(EM_DIAGRAM):   end;
22817     +                  tumor_size30_34 = 1;
22818     +                  _dm_find = 1;
MPRINT(EM_DIAGRAM):   else do;
22819     +               end;
MPRINT(EM_DIAGRAM):   if _dm5 = '35-39' then do;
22820     +            end;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = 1;
22821     +         end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22822     +         else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22823     +            if _dm5 = '35-39'  then do;
MPRINT(EM_DIAGRAM):   end;
22824     +               tumor_size35_39 = 1;
MPRINT(EM_DIAGRAM):   end;
22825     +               _dm_find = 1;
22826     +            end;
MPRINT(EM_DIAGRAM):   else do;
22827     +         end;
MPRINT(EM_DIAGRAM):   if _dm5 <= '44848' then do;
22828     +      end;
MPRINT(EM_DIAGRAM):   if _dm5 <= '44690' then do;
22829     +   end;
MPRINT(EM_DIAGRAM):   if _dm5 = '40-44' then do;
22830     +   else do;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22831     +      if _dm5 <= '44848'  then do;
MPRINT(EM_DIAGRAM):   end;
22832     +         if _dm5 <= '44690'  then do;
22833     +            if _dm5 = '40-44'  then do;
MPRINT(EM_DIAGRAM):   else do;
22834     +               tumor_size40_44 = 1;
MPRINT(EM_DIAGRAM):   if _dm5 = '44690' then do;
22835     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   tumor_size44690 = 1;
22836     +            end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22837     +            else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22838     +               if _dm5 = '44690'  then do;
MPRINT(EM_DIAGRAM):   end;
22839     +                  tumor_size44690 = 1;
22840     +                  _dm_find = 1;
MPRINT(EM_DIAGRAM):   else do;
22841     +               end;
MPRINT(EM_DIAGRAM):   if _dm5 = '44848' then do;
22842     +            end;
MPRINT(EM_DIAGRAM):   tumor_size44848 = 1;
22843     +         end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22844     +         else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   end;
22845     +            if _dm5 = '44848'  then do;
MPRINT(EM_DIAGRAM):   end;
22846     +               tumor_size44848 = 1;
22847     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   else do;
22848     +            end;
MPRINT(EM_DIAGRAM):   if _dm5 = '45-49' then do;
22849     +         end;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = 1;
22850     +      end;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22851     +      else do;
MPRINT(EM_DIAGRAM):   end;
22852     +         if _dm5 = '45-49'  then do;
MPRINT(EM_DIAGRAM):   else do;
22853     +            tumor_size45_49 = 1;
MPRINT(EM_DIAGRAM):   if _dm5 = '50-54' then do;
22854     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = -1;
22855     +         end;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = -1;
22856     +         else do;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = -1;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = -1;
22857     +            if _dm5 = '50-54'  then do;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = -1;
22858     +               tumor_size0_4 = -1;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = -1;
22859     +               tumor_size15_19 = -1;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = -1;
22860     +               tumor_size20_24 = -1;
MPRINT(EM_DIAGRAM):   tumor_size44690 = -1;
22861     +               tumor_size25_29 = -1;
MPRINT(EM_DIAGRAM):   tumor_size44848 = -1;
22862     +               tumor_size30_34 = -1;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = -1;
22863     +               tumor_size35_39 = -1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
22864     +               tumor_size40_44 = -1;
MPRINT(EM_DIAGRAM):   end;
22865     +               tumor_size44690 = -1;
MPRINT(EM_DIAGRAM):   end;
22866     +               tumor_size44848 = -1;
MPRINT(EM_DIAGRAM):   end;
22867     +               tumor_size45_49 = -1;
MPRINT(EM_DIAGRAM):   end;
22868     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
22869     +            end;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = .;
22870     +         end;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = .;
22871     +      end;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = .;
22872     +   end;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = .;
22873     +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = .;
22874     +      tumor_size0_4 = .;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = .;
22875     +      tumor_size15_19 = .;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = .;
22876     +      tumor_size20_24 = .;
MPRINT(EM_DIAGRAM):   tumor_size44690 = .;
22877     +      tumor_size25_29 = .;
MPRINT(EM_DIAGRAM):   tumor_size44848 = .;
22878     +      tumor_size30_34 = .;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = .;
22879     +      tumor_size35_39 = .;
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
22880     +      tumor_size40_44 = .;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22881     +      tumor_size44690 = .;
MPRINT(EM_DIAGRAM):   end;
22882     +      tumor_size44848 = .;
MPRINT(EM_DIAGRAM):   end;
22883     +      tumor_size45_49 = .;
22884     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   *** *************************;
22885     +      _DM_BAD = 1;
22886     +   end;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
22887     +end;
22888     +
22889     +*** *************************;
MPRINT(EM_DIAGRAM):   IF NMISS( REP_deg_malig ) THEN DO;
22890     +*** Checking missing input Interval
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
22891     +*** *************************;
22892     +
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
22893     +IF NMISS(
MPRINT(EM_DIAGRAM):   END;
22894     +   REP_deg_malig   ) THEN DO;
MPRINT(EM_DIAGRAM):   *** *************************;
22895     +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
22896     +
MPRINT(EM_DIAGRAM):   *** *************************;
22897     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
22898     +END;
22899     +*** *************************;
MPRINT(EM_DIAGRAM):   S_REP_deg_malig = -2.68808602012898 + 1.34404301006449 * REP_deg_malig ;
22900     +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   END;
22901     +*** *************************;
22902     +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
22903     +   S_REP_deg_malig  =    -2.68808602012898 +     1.34404301006449 *
MPRINT(EM_DIAGRAM):   IF MISSING( REP_deg_malig ) THEN S_REP_deg_malig = . ;
22904     +        REP_deg_malig ;
22905     +END;
22906     +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE S_REP_deg_malig = -2.68808602012898 + 1.34404301006449 * REP_deg_malig ;
MPRINT(EM_DIAGRAM):   END;
22907     +   IF MISSING( REP_deg_malig ) THEN S_REP_deg_malig  = . ;
MPRINT(EM_DIAGRAM):   *** *************************;
22908     +   ELSE S_REP_deg_malig  =    -2.68808602012898 +     1.34404301006449 *
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** *************************;
22909     +        REP_deg_malig ;
MPRINT(EM_DIAGRAM):   *** *************************;
22910     +END;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
22911     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
22912     +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
22913     +*** *************************;
MPRINT(EM_DIAGRAM):   H11 = 1.29967673953753 * S_REP_deg_malig ;
22914     +*** *************************;
MPRINT(EM_DIAGRAM):   H12 = 0.77557932218669 * S_REP_deg_malig ;
22915     +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   H13 = 0.93861734109454 * S_REP_deg_malig ;
22916     +*** *************************;
22917     +IF _DM_BAD EQ 0 THEN DO;
22918     +   H11  =     1.29967673953753 * S_REP_deg_malig ;
22919     +   H12  =     0.77557932218669 * S_REP_deg_malig ;
22920     +   H13  =     0.93861734109454 * S_REP_deg_malig ;
22921     +   H11  = H11  +    -1.89372871343458 * age30_39  +     1.18159083875833 *
22922     +        age40_49  +    -0.57559912145065 * age50_59  +     0.31042061420126 *
22923     +        age60_69  +     0.56619109372632 * breastleft
22924     +          +     1.36896142238565 * breast_quad_  +     0.21779831783121 *
22925     +        breast_quadcentral  +    -0.73295582617479 * breast_quadleft_low
22926     +          +    -1.06669093387924 * breast_quadleft_up
22927     +          +    -0.21242656921669 * breast_quadright_low
22928     +          +    -1.23619982942799 * inv_nodes0_2  +     0.02462988713114 *
22929     +        inv_nodes15_17  +     0.72502982044539 * inv_nodes24_26
22930     +          +     0.87268312051735 * inv_nodes44625  +     0.78653355770398 *
22931     +        inv_nodes44720  +    -0.47220474424347 * irradiatno
22932     +          +     0.02918884968034 * menopausege40  +     0.49548647655557 *
22933     +        menopauselt40  +    -0.21771818662549 * node_caps_
22934     +          +     0.34207511738672 * node_capsno  +    -0.25759794857211 *
22935     +        tumor_size0_4  +     0.06070260861424 * tumor_size15_19
22936     +          +    -0.11304351627301 * tumor_size20_24  +      1.5540780601561 *
MPRINT(EM_DIAGRAM):   H11 = H11 + -1.89372871343458 * age30_39 + 1.18159083875833 * age40_49 + -0.57559912145065 * age50_59 + 0.31042061420126 * age60_69 + 0.56619109372632 * breastleft + 1.36896142238565 * breast_quad_ + 0.21779831783121 * 
breast_quadcentral + -0.73295582617479 * breast_quadleft_low + -1.06669093387924 * breast_quadleft_up + -0.21242656921669 * breast_quadright_low + -1.23619982942799 * inv_nodes0_2 + 0.02462988713114 * inv_nodes15_17 + 0.72502982044539 * inv_nodes24_26 + 
0.87268312051735 * inv_nodes44625 + 0.78653355770398 * inv_nodes44720 + -0.47220474424347 * irradiatno + 0.02918884968034 * menopausege40 + 0.49548647655557 * menopauselt40 + -0.21771818662549 * node_caps_ + 0.34207511738672 * node_capsno + 
-0.25759794857211 * tumor_size0_4 + 0.06070260861424 * tumor_size15_19 + -0.11304351627301 * tumor_size20_24 + 1.5540780601561 * tumor_size25_29 + 0.21361719394588 * tumor_size30_34 + -1.03142801038156 * tumor_size35_39 + -0.01717462712527 * 
tumor_size40_44 + -0.77373145085077 * tumor_size44690 + -1.67679450843088 * tumor_size44848 + -0.8651042227298 * tumor_size45_49 ;
22937     +        tumor_size25_29  +     0.21361719394588 * tumor_size30_34
22938     +          +    -1.03142801038156 * tumor_size35_39  +    -0.01717462712527 *
22939     +        tumor_size40_44  +    -0.77373145085077 * tumor_size44690
22940     +          +    -1.67679450843088 * tumor_size44848  +     -0.8651042227298 *
22941     +        tumor_size45_49 ;
22942     +   H12  = H12  +     0.06884357533829 * age30_39  +    -0.56691097865869 *
22943     +        age40_49  +    -0.36045254602412 * age50_59  +    -0.06498825288945 *
22944     +        age60_69  +    -0.12988742430684 * breastleft
22945     +          +    -1.23590863994246 * breast_quad_  +    -0.58866870110724 *
22946     +        breast_quadcentral  +    -0.77016750190741 * breast_quadleft_low
22947     +          +    -0.05541145822809 * breast_quadleft_up
22948     +          +     1.06031463214452 * breast_quadright_low
22949     +          +      0.9900301084414 * inv_nodes0_2  +    -1.49860847474921 *
22950     +        inv_nodes15_17  +     -0.5679948428652 * inv_nodes24_26
22951     +          +     1.34677523660967 * inv_nodes44625  +    -0.37318615410526 *
22952     +        inv_nodes44720  +    -0.72398863264201 * irradiatno
22953     +          +    -0.75855801811773 * menopausege40  +     0.08375395231908 *
22954     +        menopauselt40  +     1.82983523525421 * node_caps_
22955     +          +     0.09630010197492 * node_capsno  +     1.07067110087746 *
22956     +        tumor_size0_4  +    -0.23395224211477 * tumor_size15_19
22957     +          +     0.05786191231766 * tumor_size20_24  +    -0.44650429056006 *
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.06884357533829 * age30_39 + -0.56691097865869 * age40_49 + -0.36045254602412 * age50_59 + -0.06498825288945 * age60_69 + -0.12988742430684 * breastleft + -1.23590863994246 * breast_quad_ + -0.58866870110724 * 
breast_quadcentral + -0.77016750190741 * breast_quadleft_low + -0.05541145822809 * breast_quadleft_up + 1.06031463214452 * breast_quadright_low + 0.9900301084414 * inv_nodes0_2 + -1.49860847474921 * inv_nodes15_17 + -0.5679948428652 * inv_nodes24_26 + 
1.34677523660967 * inv_nodes44625 + -0.37318615410526 * inv_nodes44720 + -0.72398863264201 * irradiatno + -0.75855801811773 * menopausege40 + 0.08375395231908 * menopauselt40 + 1.82983523525421 * node_caps_ + 0.09630010197492 * node_capsno + 
1.07067110087746 * tumor_size0_4 + -0.23395224211477 * tumor_size15_19 + 0.05786191231766 * tumor_size20_24 + -0.44650429056006 * tumor_size25_29 + -2.82450583016768 * tumor_size30_34 + -0.21439553569815 * tumor_size35_39 + 0.41256268346618 * 
tumor_size40_44 + 0.49053243663712 * tumor_size44690 + 1.13109356273131 * tumor_size44848 + 0.43329679504995 * tumor_size45_49 ;
22958     +        tumor_size25_29  +    -2.82450583016768 * tumor_size30_34
22959     +          +    -0.21439553569815 * tumor_size35_39  +     0.41256268346618 *
22960     +        tumor_size40_44  +     0.49053243663712 * tumor_size44690
22961     +          +     1.13109356273131 * tumor_size44848  +     0.43329679504995 *
22962     +        tumor_size45_49 ;
22963     +   H13  = H13  +    -0.23234156974234 * age30_39  +      1.0453809577246 *
22964     +        age40_49  +     -1.1504489715378 * age50_59  +      0.7291309680577 *
22965     +        age60_69  +    -2.08405804299412 * breastleft
22966     +          +     0.31082180764289 * breast_quad_  +      0.6476098103614 *
22967     +        breast_quadcentral  +    -1.27138438353605 * breast_quadleft_low
22968     +          +      -1.009485406465 * breast_quadleft_up
22969     +          +     0.62890071564239 * breast_quadright_low
22970     +          +    -0.73615560860124 * inv_nodes0_2  +     0.42203816182367 *
22971     +        inv_nodes15_17  +     0.27803140853519 * inv_nodes24_26
22972     +          +     0.35949201634582 * inv_nodes44625  +    -0.42535257558671 *
22973     +        inv_nodes44720  +     -1.3892809236171 * irradiatno
22974     +          +    -1.46889950459836 * menopausege40  +    -1.17916866693018 *
22975     +        menopauselt40  +    -0.16702066164127 * node_caps_
22976     +          +     1.33367831970141 * node_capsno  +     -0.6036963995967 *
22977     +        tumor_size0_4  +    -0.45004817016056 * tumor_size15_19
22978     +          +     1.65495374032886 * tumor_size20_24  +    -0.70762461266355 *
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.23234156974234 * age30_39 + 1.0453809577246 * age40_49 + -1.1504489715378 * age50_59 + 0.7291309680577 * age60_69 + -2.08405804299412 * breastleft + 0.31082180764289 * breast_quad_ + 0.6476098103614 * 
breast_quadcentral + -1.27138438353605 * breast_quadleft_low + -1.009485406465 * breast_quadleft_up + 0.62890071564239 * breast_quadright_low + -0.73615560860124 * inv_nodes0_2 + 0.42203816182367 * inv_nodes15_17 + 0.27803140853519 * inv_nodes24_26 + 
0.35949201634582 * inv_nodes44625 + -0.42535257558671 * inv_nodes44720 + -1.3892809236171 * irradiatno + -1.46889950459836 * menopausege40 + -1.17916866693018 * menopauselt40 + -0.16702066164127 * node_caps_ + 1.33367831970141 * node_capsno + 
-0.6036963995967 * tumor_size0_4 + -0.45004817016056 * tumor_size15_19 + 1.65495374032886 * tumor_size20_24 + -0.70762461266355 * tumor_size25_29 + -1.40476101029433 * tumor_size30_34 + 0.05674606572907 * tumor_size35_39 + 1.74232452638987 * 
tumor_size40_44 + -0.41196520167185 * tumor_size44690 + -0.74923948169842 * tumor_size44848 + -0.35151710343101 * tumor_size45_49 ;
22979     +        tumor_size25_29  +    -1.40476101029433 * tumor_size30_34
MPRINT(EM_DIAGRAM):   H11 = -1.53737817308102 + H11 ;
22980     +          +     0.05674606572907 * tumor_size35_39  +     1.74232452638987 *
MPRINT(EM_DIAGRAM):   H12 = 0.22368104037921 + H12 ;
22981     +        tumor_size40_44  +    -0.41196520167185 * tumor_size44690
MPRINT(EM_DIAGRAM):   H13 = 0.71788270115108 + H13 ;
22982     +          +    -0.74923948169842 * tumor_size44848  +    -0.35151710343101 *
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
22983     +        tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
22984     +   H11  =    -1.53737817308102 + H11 ;
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
22985     +   H12  =     0.22368104037921 + H12 ;
MPRINT(EM_DIAGRAM):   END;
22986     +   H13  =     0.71788270115108 + H13 ;
22987     +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   ELSE DO;
22988     +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H11 = .;
22989     +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H12 = .;
22990     +END;
MPRINT(EM_DIAGRAM):   H13 = .;
22991     +ELSE DO;
MPRINT(EM_DIAGRAM):   END;
MPRINT(EM_DIAGRAM):   *** *************************;
22992     +   H11  = .;
MPRINT(EM_DIAGRAM):   *** Writing the Node class ;
22993     +   H12  = .;
MPRINT(EM_DIAGRAM):   *** *************************;
22994     +   H13  = .;
22995     +END;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for class ;
22996     +*** *************************;
MPRINT(EM_DIAGRAM):   drop classrecurrence_events classno_recurrence_events ;
22997     +*** Writing the Node class ;
MPRINT(EM_DIAGRAM):   label F_class = 'From: class' ;
22998     +*** *************************;
22999     +
MPRINT(EM_DIAGRAM):   length F_class $ 20;
23000     +*** Generate dummy variables for class ;
23001     +drop classrecurrence_events classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   F_class = put( class , $20. );
23002     +label F_class = 'From: class' ;
23003     +length F_class $ 20;
MPRINT(DMNORMIP):   call dmnorm(F_class,
23004     +F_class = put( class , $20. );
23005     +%DMNORMIP( F_class )
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
MPRINT(EM_DIAGRAM):   if missing( class ) then do;
MPRINT(EM_DIAGRAM):   classrecurrence_events = .;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = .;
MPRINT(EM_DIAGRAM):   end;
23006     +if missing( class ) then do;
MPRINT(EM_DIAGRAM):   else do;
23007     +   classrecurrence_events = .;
MPRINT(EM_DIAGRAM):   if F_class = 'NO-RECURRENCE-EVENTS' then do;
23008     +   classno_recurrence_events = .;
MPRINT(EM_DIAGRAM):   classrecurrence_events = 0;
23009     +end;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = 1;
23010     +else do;
MPRINT(EM_DIAGRAM):   end;
23011     +   if F_class = 'NO-RECURRENCE-EVENTS'  then do;
MPRINT(EM_DIAGRAM):   else if F_class = 'RECURRENCE-EVENTS' then do;
23012     +      classrecurrence_events = 0;
MPRINT(EM_DIAGRAM):   classrecurrence_events = 1;
23013     +      classno_recurrence_events = 1;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = 0;
23014     +   end;
MPRINT(EM_DIAGRAM):   end;
23015     +   else if F_class = 'RECURRENCE-EVENTS'  then do;
MPRINT(EM_DIAGRAM):   else do;
23016     +      classrecurrence_events = 1;
MPRINT(EM_DIAGRAM):   classrecurrence_events = .;
23017     +      classno_recurrence_events = 0;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = .;
23018     +   end;
MPRINT(EM_DIAGRAM):   end;
23019     +   else do;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
23020     +      classrecurrence_events = .;
23021     +      classno_recurrence_events = .;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = 5.22644220551255 * H11 + -5.0201589606459 * H12 + 5.06988151887359 * H13 ;
23022     +   end;
23023     +end;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = -0.02383213105302 + P_classrecurrence_events ;
23024     +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = 0;
23025     +   P_classrecurrence_events  =     5.22644220551255 * H11
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_classrecurrence_events , P_classno_recurrence_events );
23026     +          +     -5.0201589606459 * H12  +     5.06988151887359 * H13 ;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
23027     +   P_classrecurrence_events  =    -0.02383213105302 + P_classrecurrence_events
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = EXP(P_classrecurrence_events - _MAX_);
23028     +         ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_classrecurrence_events ;
23029     +   P_classno_recurrence_events  = 0;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = EXP(P_classno_recurrence_events - _MAX_);
23030     +   _MAX_ = MAX (P_classrecurrence_events , P_classno_recurrence_events );
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_classno_recurrence_events ;
23031     +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = P_classrecurrence_events / _SUM_;
23032     +   P_classrecurrence_events  = EXP(P_classrecurrence_events  - _MAX_);
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = P_classno_recurrence_events / _SUM_;
23033     +   _SUM_ = _SUM_ + P_classrecurrence_events ;
MPRINT(EM_DIAGRAM):   END;
23034     +   P_classno_recurrence_events  = EXP(P_classno_recurrence_events  - _MAX_);
23035     +   _SUM_ = _SUM_ + P_classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   ELSE DO;
23036     +   P_classrecurrence_events  = P_classrecurrence_events  / _SUM_;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = .;
23037     +   P_classno_recurrence_events  = P_classno_recurrence_events  / _SUM_;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = .;
23038     +END;
MPRINT(EM_DIAGRAM):   END;
23039     +ELSE DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = 0.29203539823008;
23040     +   P_classrecurrence_events  = .;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = 0.70796460176991;
23041     +   P_classno_recurrence_events  = .;
MPRINT(EM_DIAGRAM):   END;
23042     +END;
MPRINT(EM_DIAGRAM):   *** *****************************;
23043     +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node class ;
23044     +   P_classrecurrence_events  =     0.29203539823008;
MPRINT(EM_DIAGRAM):   *** ******************************;
23045     +   P_classno_recurrence_events  =     0.70796460176991;
MPRINT(EM_DIAGRAM):   IF MISSING( classrecurrence_events ) THEN R_classrecurrence_events = . ;
23046     +END;
23047     +*** *****************************;
23048     +*** Writing the Residuals  of the Node class ;
MPRINT(EM_DIAGRAM):   ELSE R_classrecurrence_events = classrecurrence_events - P_classrecurrence_events ;
23049     +*** ******************************;
23050     +IF MISSING( classrecurrence_events ) THEN R_classrecurrence_events  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( classno_recurrence_events ) THEN R_classno_recurrence_events = . ;
23051     +ELSE R_classrecurrence_events  = classrecurrence_events  -
23052     +        P_classrecurrence_events ;
MPRINT(EM_DIAGRAM):   ELSE R_classno_recurrence_events = classno_recurrence_events - P_classno_recurrence_events ;
23053     +IF MISSING( classno_recurrence_events ) THEN R_classno_recurrence_events
MPRINT(EM_DIAGRAM):   *** *************************;
23054     +          = . ;
MPRINT(EM_DIAGRAM):   *** Writing the I_class AND U_class ;
23055     +ELSE R_classno_recurrence_events  = classno_recurrence_events  -
MPRINT(EM_DIAGRAM):   *** *************************;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_classrecurrence_events ;
23056     +        P_classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   I_class = "RECURRENCE-EVENTS   " ;
23057     +*** *************************;
MPRINT(EM_DIAGRAM):   U_class = "recurrence-events   " ;
23058     +*** Writing the I_class  AND U_class ;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_classno_recurrence_events ) THEN DO;
23059     +*** *************************;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_classno_recurrence_events ;
23060     +_MAXP_ = P_classrecurrence_events ;
MPRINT(EM_DIAGRAM):   I_class = "NO-RECURRENCE-EVENTS" ;
23061     +I_class  = "RECURRENCE-EVENTS   " ;
MPRINT(EM_DIAGRAM):   U_class = "no-recurrence-events" ;
23062     +U_class  = "recurrence-events   " ;
MPRINT(EM_DIAGRAM):   END;
23063     +IF( _MAXP_ LT P_classno_recurrence_events  ) THEN DO;
MPRINT(EM_DIAGRAM):   ********************************;
23064     +   _MAXP_ = P_classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
23065     +   I_class  = "NO-RECURRENCE-EVENTS" ;
MPRINT(EM_DIAGRAM):   ********************************;
23066     +   U_class  = "no-recurrence-events" ;
23067     +END;
23068     +********************************;
23069     +*** End Scoring Code for Neural;
23070     +********************************;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 ;
23071     +drop
MPRINT(EM_DIAGRAM):   drop S_:;
23072     +H11
23073     +H12
23074     +H13
23075     +;
23076     +drop S_:;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
23077      run;

NOTE: DATA STEP view saved on file EMWS1.NEURAL_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.21 seconds
      cpu time            0.18 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.24 seconds
      cpu time            0.20 seconds
      

MPRINT(EM_DIAGRAM):   quit;
23078      quit;
23079      filename emflow;
MPRINT(EM_DIAGRAM):   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
23080      filename emflow "D:\\BAN210PA\Workspaces\EMWS1\Neural\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):    filename emflow "D:\\BAN210PA\Workspaces\EMWS1\Neural\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Neural: Scoring VALIDATE data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
23081      *------------------------------------------------------------*;
23082      * Neural: Scoring VALIDATE data;
23083      *------------------------------------------------------------*;
23084      data EMWS1.Neural_VALIDATE
23085      / view=EMWS1.Neural_VALIDATE
23086      ;
MPRINT(EM_DIAGRAM):   data EMWS1.Neural_VALIDATE / view=EMWS1.Neural_VALIDATE ;
23087      set EMWS1.Trans_VALIDATE
23088      ;
MPRINT(EM_DIAGRAM):   set EMWS1.Trans_VALIDATE ;
23089      %inc emflow;
NOTE: %INCLUDE (level 1) file EMFLOW is file D:\\BAN210PA\Workspaces\EMWS1\Neural\EMFLOWSCORE.sas.
23090     +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
23091     +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
23092     +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
23093     +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
23094     + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
23095     + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
23096     + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
23097     + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
23098     + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
23099     + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
23100     + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
23101     +LENGTH _WARN_ $4
23102     +      F_class  $ 20
23103     +      I_class  $ 20
23104     +      U_class  $ 20
23105     +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_class $ 20 I_class $ 20 U_class $ 20 ;
23106     +      label S_REP_deg_malig = 'Standard: REP_deg_malig' ;
MPRINT(EM_DIAGRAM):   label S_REP_deg_malig = 'Standard: REP_deg_malig' ;
23107     +
23108     +      label age30_39 = 'Dummy: age=30-39' ;
MPRINT(EM_DIAGRAM):   label age30_39 = 'Dummy: age=30-39' ;
23109     +
23110     +      label age40_49 = 'Dummy: age=40-49' ;
MPRINT(EM_DIAGRAM):   label age40_49 = 'Dummy: age=40-49' ;
23111     +
23112     +      label age50_59 = 'Dummy: age=50-59' ;
MPRINT(EM_DIAGRAM):   label age50_59 = 'Dummy: age=50-59' ;
23113     +
23114     +      label age60_69 = 'Dummy: age=60-69' ;
MPRINT(EM_DIAGRAM):   label age60_69 = 'Dummy: age=60-69' ;
23115     +
23116     +      label breastleft = 'Dummy: breast=left' ;
MPRINT(EM_DIAGRAM):   label breastleft = 'Dummy: breast=left' ;
23117     +
23118     +      label breast_quad_ = 'Dummy: breast_quad=?' ;
MPRINT(EM_DIAGRAM):   label breast_quad_ = 'Dummy: breast_quad=?' ;
23119     +
23120     +      label breast_quadcentral = 'Dummy: breast_quad=central' ;
MPRINT(EM_DIAGRAM):   label breast_quadcentral = 'Dummy: breast_quad=central' ;
23121     +
23122     +      label breast_quadleft_low = 'Dummy: breast_quad=left_low' ;
MPRINT(EM_DIAGRAM):   label breast_quadleft_low = 'Dummy: breast_quad=left_low' ;
23123     +
23124     +      label breast_quadleft_up = 'Dummy: breast_quad=left_up' ;
MPRINT(EM_DIAGRAM):   label breast_quadleft_up = 'Dummy: breast_quad=left_up' ;
23125     +
23126     +      label breast_quadright_low = 'Dummy: breast_quad=right_low' ;
MPRINT(EM_DIAGRAM):   label breast_quadright_low = 'Dummy: breast_quad=right_low' ;
23127     +
23128     +      label inv_nodes0_2 = 'Dummy: inv_nodes=0-2' ;
MPRINT(EM_DIAGRAM):   label inv_nodes0_2 = 'Dummy: inv_nodes=0-2' ;
23129     +
23130     +      label inv_nodes15_17 = 'Dummy: inv_nodes=15-17' ;
MPRINT(EM_DIAGRAM):   label inv_nodes15_17 = 'Dummy: inv_nodes=15-17' ;
23131     +
23132     +      label inv_nodes24_26 = 'Dummy: inv_nodes=24-26' ;
MPRINT(EM_DIAGRAM):   label inv_nodes24_26 = 'Dummy: inv_nodes=24-26' ;
23133     +
23134     +      label inv_nodes44625 = 'Dummy: inv_nodes=44625' ;
MPRINT(EM_DIAGRAM):   label inv_nodes44625 = 'Dummy: inv_nodes=44625' ;
23135     +
23136     +      label inv_nodes44720 = 'Dummy: inv_nodes=44720' ;
MPRINT(EM_DIAGRAM):   label inv_nodes44720 = 'Dummy: inv_nodes=44720' ;
23137     +
23138     +      label irradiatno = 'Dummy: irradiat=no' ;
MPRINT(EM_DIAGRAM):   label irradiatno = 'Dummy: irradiat=no' ;
23139     +
23140     +      label menopausege40 = 'Dummy: menopause=ge40' ;
MPRINT(EM_DIAGRAM):   label menopausege40 = 'Dummy: menopause=ge40' ;
23141     +
23142     +      label menopauselt40 = 'Dummy: menopause=lt40' ;
MPRINT(EM_DIAGRAM):   label menopauselt40 = 'Dummy: menopause=lt40' ;
23143     +
23144     +      label node_caps_ = 'Dummy: node_caps=?' ;
MPRINT(EM_DIAGRAM):   label node_caps_ = 'Dummy: node_caps=?' ;
23145     +
23146     +      label node_capsno = 'Dummy: node_caps=no' ;
MPRINT(EM_DIAGRAM):   label node_capsno = 'Dummy: node_caps=no' ;
23147     +
23148     +      label tumor_size0_4 = 'Dummy: tumor_size=0-4' ;
MPRINT(EM_DIAGRAM):   label tumor_size0_4 = 'Dummy: tumor_size=0-4' ;
23149     +
23150     +      label tumor_size15_19 = 'Dummy: tumor_size=15-19' ;
MPRINT(EM_DIAGRAM):   label tumor_size15_19 = 'Dummy: tumor_size=15-19' ;
23151     +
23152     +      label tumor_size20_24 = 'Dummy: tumor_size=20-24' ;
MPRINT(EM_DIAGRAM):   label tumor_size20_24 = 'Dummy: tumor_size=20-24' ;
23153     +
23154     +      label tumor_size25_29 = 'Dummy: tumor_size=25-29' ;
MPRINT(EM_DIAGRAM):   label tumor_size25_29 = 'Dummy: tumor_size=25-29' ;
23155     +
23156     +      label tumor_size30_34 = 'Dummy: tumor_size=30-34' ;
MPRINT(EM_DIAGRAM):   label tumor_size30_34 = 'Dummy: tumor_size=30-34' ;
23157     +
23158     +      label tumor_size35_39 = 'Dummy: tumor_size=35-39' ;
MPRINT(EM_DIAGRAM):   label tumor_size35_39 = 'Dummy: tumor_size=35-39' ;
23159     +
23160     +      label tumor_size40_44 = 'Dummy: tumor_size=40-44' ;
MPRINT(EM_DIAGRAM):   label tumor_size40_44 = 'Dummy: tumor_size=40-44' ;
23161     +
23162     +      label tumor_size44690 = 'Dummy: tumor_size=44690' ;
MPRINT(EM_DIAGRAM):   label tumor_size44690 = 'Dummy: tumor_size=44690' ;
23163     +
23164     +      label tumor_size44848 = 'Dummy: tumor_size=44848' ;
MPRINT(EM_DIAGRAM):   label tumor_size44848 = 'Dummy: tumor_size=44848' ;
23165     +
23166     +      label tumor_size45_49 = 'Dummy: tumor_size=45-49' ;
MPRINT(EM_DIAGRAM):   label tumor_size45_49 = 'Dummy: tumor_size=45-49' ;
23167     +
23168     +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
23169     +
23170     +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
23171     +
23172     +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
23173     +
23174     +      label I_class = 'Into: class' ;
MPRINT(EM_DIAGRAM):   label I_class = 'Into: class' ;
23175     +
23176     +      label F_class = 'From: class' ;
MPRINT(EM_DIAGRAM):   label F_class = 'From: class' ;
23177     +
23178     +      label U_class = 'Unnormalized Into: class' ;
MPRINT(EM_DIAGRAM):   label U_class = 'Unnormalized Into: class' ;
23179     +
23180     +      label P_classrecurrence_events = 'Predicted: class=recurrence-events' ;
MPRINT(EM_DIAGRAM):   label P_classrecurrence_events = 'Predicted: class=recurrence-events' ;
23181     +
23182     +      label R_classrecurrence_events = 'Residual: class=recurrence-events' ;
MPRINT(EM_DIAGRAM):   label R_classrecurrence_events = 'Residual: class=recurrence-events' ;
23183     +
23184     +      label P_classno_recurrence_events =
23185     +'Predicted: class=no-recurrence-events' ;
MPRINT(EM_DIAGRAM):   label P_classno_recurrence_events = 'Predicted: class=no-recurrence-events' ;
23186     +
23187     +      label R_classno_recurrence_events =
23188     +'Residual: class=no-recurrence-events' ;
MPRINT(EM_DIAGRAM):   label R_classno_recurrence_events = 'Residual: class=no-recurrence-events' ;
23189     +
23190     +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
23191     +
23192     +*** Generate dummy variables for age ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for age ;
23193     +drop age30_39 age40_49 age50_59 age60_69 ;
MPRINT(EM_DIAGRAM):   drop age30_39 age40_49 age50_59 age60_69 ;
23194     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
23195     +age30_39 = 0;
MPRINT(EM_DIAGRAM):   age30_39 = 0;
23196     +age40_49 = 0;
MPRINT(EM_DIAGRAM):   age40_49 = 0;
23197     +age50_59 = 0;
MPRINT(EM_DIAGRAM):   age50_59 = 0;
23198     +age60_69 = 0;
MPRINT(EM_DIAGRAM):   age60_69 = 0;
23199     +if missing( age ) then do;
MPRINT(EM_DIAGRAM):   if missing( age ) then do;
23200     +   age30_39 = .;
MPRINT(EM_DIAGRAM):   age30_39 = .;
23201     +   age40_49 = .;
MPRINT(EM_DIAGRAM):   age40_49 = .;
23202     +   age50_59 = .;
MPRINT(EM_DIAGRAM):   age50_59 = .;
23203     +   age60_69 = .;
MPRINT(EM_DIAGRAM):   age60_69 = .;
23204     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23205     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23206     +end;
MPRINT(EM_DIAGRAM):   end;
23207     +else do;
MPRINT(EM_DIAGRAM):   else do;
23208     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
23209     +   _dm5 = put( age , $5. );
MPRINT(EM_DIAGRAM):   _dm5 = put( age , $5. );
23210     +   %DMNORMIP( _dm5 )
MPRINT(DMNORMIP):   call dmnorm(_dm5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
23211     +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
23212     +   if _dm5 <= '50-59'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '50-59' then do;
23213     +      if _dm5 <= '40-49'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '40-49' then do;
23214     +         if _dm5 = '30-39'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '30-39' then do;
23215     +            age30_39 = 1;
MPRINT(EM_DIAGRAM):   age30_39 = 1;
23216     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23217     +         end;
MPRINT(EM_DIAGRAM):   end;
23218     +         else do;
MPRINT(EM_DIAGRAM):   else do;
23219     +            if _dm5 = '40-49'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '40-49' then do;
23220     +               age40_49 = 1;
MPRINT(EM_DIAGRAM):   age40_49 = 1;
23221     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23222     +            end;
MPRINT(EM_DIAGRAM):   end;
23223     +         end;
MPRINT(EM_DIAGRAM):   end;
23224     +      end;
MPRINT(EM_DIAGRAM):   end;
23225     +      else do;
MPRINT(EM_DIAGRAM):   else do;
23226     +         if _dm5 = '50-59'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '50-59' then do;
23227     +            age50_59 = 1;
MPRINT(EM_DIAGRAM):   age50_59 = 1;
23228     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23229     +         end;
MPRINT(EM_DIAGRAM):   end;
23230     +      end;
MPRINT(EM_DIAGRAM):   end;
23231     +   end;
MPRINT(EM_DIAGRAM):   end;
23232     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23233     +      if _dm5 = '60-69'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '60-69' then do;
23234     +         age60_69 = 1;
MPRINT(EM_DIAGRAM):   age60_69 = 1;
23235     +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23236     +      end;
MPRINT(EM_DIAGRAM):   end;
23237     +      else do;
MPRINT(EM_DIAGRAM):   else do;
23238     +         if _dm5 = '70-79'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '70-79' then do;
23239     +            age30_39 = -1;
MPRINT(EM_DIAGRAM):   age30_39 = -1;
23240     +            age40_49 = -1;
MPRINT(EM_DIAGRAM):   age40_49 = -1;
23241     +            age50_59 = -1;
MPRINT(EM_DIAGRAM):   age50_59 = -1;
23242     +            age60_69 = -1;
MPRINT(EM_DIAGRAM):   age60_69 = -1;
23243     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23244     +         end;
MPRINT(EM_DIAGRAM):   end;
23245     +      end;
MPRINT(EM_DIAGRAM):   end;
23246     +   end;
MPRINT(EM_DIAGRAM):   end;
23247     +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
23248     +      age30_39 = .;
MPRINT(EM_DIAGRAM):   age30_39 = .;
23249     +      age40_49 = .;
MPRINT(EM_DIAGRAM):   age40_49 = .;
23250     +      age50_59 = .;
MPRINT(EM_DIAGRAM):   age50_59 = .;
23251     +      age60_69 = .;
MPRINT(EM_DIAGRAM):   age60_69 = .;
23252     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23253     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23254     +   end;
MPRINT(EM_DIAGRAM):   end;
23255     +end;
MPRINT(EM_DIAGRAM):   end;
23256     +
23257     +*** Generate dummy variables for breast ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for breast ;
23258     +drop breastleft ;
MPRINT(EM_DIAGRAM):   drop breastleft ;
23259     +if missing( breast ) then do;
MPRINT(EM_DIAGRAM):   if missing( breast ) then do;
23260     +   breastleft = .;
MPRINT(EM_DIAGRAM):   breastleft = .;
23261     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23262     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23263     +end;
MPRINT(EM_DIAGRAM):   end;
23264     +else do;
MPRINT(EM_DIAGRAM):   else do;
23265     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
23266     +   _dm5 = put( breast , $5. );
MPRINT(EM_DIAGRAM):   _dm5 = put( breast , $5. );
23267     +   %DMNORMIP( _dm5 )
MPRINT(DMNORMIP):   call dmnorm(_dm5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
23268     +   if _dm5 = 'LEFT'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = 'LEFT' then do;
23269     +      breastleft = 1;
MPRINT(EM_DIAGRAM):   breastleft = 1;
23270     +   end;
MPRINT(EM_DIAGRAM):   end;
23271     +   else if _dm5 = 'RIGHT'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = 'RIGHT' then do;
23272     +      breastleft = -1;
MPRINT(EM_DIAGRAM):   breastleft = -1;
23273     +   end;
MPRINT(EM_DIAGRAM):   end;
23274     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23275     +      breastleft = .;
MPRINT(EM_DIAGRAM):   breastleft = .;
23276     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23277     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23278     +   end;
MPRINT(EM_DIAGRAM):   end;
23279     +end;
MPRINT(EM_DIAGRAM):   end;
23280     +
23281     +*** Generate dummy variables for breast_quad ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for breast_quad ;
23282     +drop breast_quad_ breast_quadcentral breast_quadleft_low breast_quadleft_up
23283     +        breast_quadright_low ;
MPRINT(EM_DIAGRAM):   drop breast_quad_ breast_quadcentral breast_quadleft_low breast_quadleft_up breast_quadright_low ;
23284     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
23285     +breast_quad_ = 0;
MPRINT(EM_DIAGRAM):   breast_quad_ = 0;
23286     +breast_quadcentral = 0;
MPRINT(EM_DIAGRAM):   breast_quadcentral = 0;
23287     +breast_quadleft_low = 0;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = 0;
23288     +breast_quadleft_up = 0;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = 0;
23289     +breast_quadright_low = 0;
MPRINT(EM_DIAGRAM):   breast_quadright_low = 0;
23290     +if missing( breast_quad ) then do;
MPRINT(EM_DIAGRAM):   if missing( breast_quad ) then do;
23291     +   breast_quad_ = .;
MPRINT(EM_DIAGRAM):   breast_quad_ = .;
23292     +   breast_quadcentral = .;
MPRINT(EM_DIAGRAM):   breast_quadcentral = .;
23293     +   breast_quadleft_low = .;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = .;
23294     +   breast_quadleft_up = .;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = .;
23295     +   breast_quadright_low = .;
MPRINT(EM_DIAGRAM):   breast_quadright_low = .;
23296     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23297     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23298     +end;
MPRINT(EM_DIAGRAM):   end;
23299     +else do;
MPRINT(EM_DIAGRAM):   else do;
23300     +   length _dm9 $ 9; drop _dm9 ;
MPRINT(EM_DIAGRAM):   length _dm9 $ 9;
MPRINT(EM_DIAGRAM):   drop _dm9 ;
23301     +   %DMNORMCP( breast_quad , _dm9 )
MPRINT(DMNORMCP):   _dm9=dmnorm(breast_quad,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
23302     +   if _dm9 = 'LEFT_LOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm9 = 'LEFT_LOW' then do;
23303     +      breast_quadleft_low = 1;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = 1;
23304     +   end;
MPRINT(EM_DIAGRAM):   end;
23305     +   else if _dm9 = 'LEFT_UP'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'LEFT_UP' then do;
23306     +      breast_quadleft_up = 1;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = 1;
23307     +   end;
MPRINT(EM_DIAGRAM):   end;
23308     +   else if _dm9 = 'RIGHT_UP'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'RIGHT_UP' then do;
23309     +      breast_quad_ = -1;
MPRINT(EM_DIAGRAM):   breast_quad_ = -1;
23310     +      breast_quadcentral = -1;
MPRINT(EM_DIAGRAM):   breast_quadcentral = -1;
23311     +      breast_quadleft_low = -1;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = -1;
23312     +      breast_quadleft_up = -1;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = -1;
23313     +      breast_quadright_low = -1;
MPRINT(EM_DIAGRAM):   breast_quadright_low = -1;
23314     +   end;
MPRINT(EM_DIAGRAM):   end;
23315     +   else if _dm9 = 'CENTRAL'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'CENTRAL' then do;
23316     +      breast_quadcentral = 1;
MPRINT(EM_DIAGRAM):   breast_quadcentral = 1;
23317     +   end;
MPRINT(EM_DIAGRAM):   end;
23318     +   else if _dm9 = 'RIGHT_LOW'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'RIGHT_LOW' then do;
23319     +      breast_quadright_low = 1;
MPRINT(EM_DIAGRAM):   breast_quadright_low = 1;
23320     +   end;
MPRINT(EM_DIAGRAM):   end;
23321     +   else if _dm9 = '?'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = '?' then do;
23322     +      breast_quad_ = 1;
MPRINT(EM_DIAGRAM):   breast_quad_ = 1;
23323     +   end;
MPRINT(EM_DIAGRAM):   end;
23324     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23325     +      breast_quad_ = .;
MPRINT(EM_DIAGRAM):   breast_quad_ = .;
23326     +      breast_quadcentral = .;
MPRINT(EM_DIAGRAM):   breast_quadcentral = .;
23327     +      breast_quadleft_low = .;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = .;
23328     +      breast_quadleft_up = .;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = .;
23329     +      breast_quadright_low = .;
MPRINT(EM_DIAGRAM):   breast_quadright_low = .;
23330     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23331     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23332     +   end;
MPRINT(EM_DIAGRAM):   end;
23333     +end;
MPRINT(EM_DIAGRAM):   end;
23334     +
23335     +*** Generate dummy variables for inv_nodes ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for inv_nodes ;
23336     +drop inv_nodes0_2 inv_nodes15_17 inv_nodes24_26 inv_nodes44625 inv_nodes44720
23337     +        ;
MPRINT(EM_DIAGRAM):   drop inv_nodes0_2 inv_nodes15_17 inv_nodes24_26 inv_nodes44625 inv_nodes44720 ;
23338     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
23339     +inv_nodes0_2 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = 0;
23340     +inv_nodes15_17 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = 0;
23341     +inv_nodes24_26 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = 0;
23342     +inv_nodes44625 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = 0;
23343     +inv_nodes44720 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = 0;
23344     +if missing( inv_nodes ) then do;
MPRINT(EM_DIAGRAM):   if missing( inv_nodes ) then do;
23345     +   inv_nodes0_2 = .;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = .;
23346     +   inv_nodes15_17 = .;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = .;
23347     +   inv_nodes24_26 = .;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = .;
23348     +   inv_nodes44625 = .;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = .;
23349     +   inv_nodes44720 = .;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = .;
23350     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23351     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23352     +end;
MPRINT(EM_DIAGRAM):   end;
23353     +else do;
MPRINT(EM_DIAGRAM):   else do;
23354     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
23355     +   _dm5 = put( inv_nodes , $5. );
MPRINT(EM_DIAGRAM):   _dm5 = put( inv_nodes , $5. );
23356     +   %DMNORMIP( _dm5 )
MPRINT(DMNORMIP):   call dmnorm(_dm5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
23357     +   if _dm5 = '0-2'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '0-2' then do;
23358     +      inv_nodes0_2 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = 1;
23359     +   end;
MPRINT(EM_DIAGRAM):   end;
23360     +   else if _dm5 = '44625'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '44625' then do;
23361     +      inv_nodes44625 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = 1;
23362     +   end;
MPRINT(EM_DIAGRAM):   end;
23363     +   else if _dm5 = '15-17'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '15-17' then do;
23364     +      inv_nodes15_17 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = 1;
23365     +   end;
MPRINT(EM_DIAGRAM):   end;
23366     +   else if _dm5 = '44815'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '44815' then do;
23367     +      inv_nodes0_2 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = -1;
23368     +      inv_nodes15_17 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = -1;
23369     +      inv_nodes24_26 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = -1;
23370     +      inv_nodes44625 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = -1;
23371     +      inv_nodes44720 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = -1;
23372     +   end;
MPRINT(EM_DIAGRAM):   end;
23373     +   else if _dm5 = '44720'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '44720' then do;
23374     +      inv_nodes44720 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = 1;
23375     +   end;
MPRINT(EM_DIAGRAM):   end;
23376     +   else if _dm5 = '24-26'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '24-26' then do;
23377     +      inv_nodes24_26 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = 1;
23378     +   end;
MPRINT(EM_DIAGRAM):   end;
23379     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23380     +      inv_nodes0_2 = .;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = .;
23381     +      inv_nodes15_17 = .;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = .;
23382     +      inv_nodes24_26 = .;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = .;
23383     +      inv_nodes44625 = .;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = .;
23384     +      inv_nodes44720 = .;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = .;
23385     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23386     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23387     +   end;
MPRINT(EM_DIAGRAM):   end;
23388     +end;
MPRINT(EM_DIAGRAM):   end;
23389     +
23390     +*** Generate dummy variables for irradiat ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for irradiat ;
23391     +drop irradiatno ;
MPRINT(EM_DIAGRAM):   drop irradiatno ;
23392     +if missing( irradiat ) then do;
MPRINT(EM_DIAGRAM):   if missing( irradiat ) then do;
23393     +   irradiatno = .;
MPRINT(EM_DIAGRAM):   irradiatno = .;
23394     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23395     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23396     +end;
MPRINT(EM_DIAGRAM):   end;
23397     +else do;
MPRINT(EM_DIAGRAM):   else do;
23398     +   length _dm3 $ 3; drop _dm3 ;
MPRINT(EM_DIAGRAM):   length _dm3 $ 3;
MPRINT(EM_DIAGRAM):   drop _dm3 ;
23399     +   _dm3 = put( irradiat , $3. );
MPRINT(EM_DIAGRAM):   _dm3 = put( irradiat , $3. );
23400     +   %DMNORMIP( _dm3 )
MPRINT(DMNORMIP):   call dmnorm(_dm3,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
23401     +   if _dm3 = 'NO'  then do;
MPRINT(EM_DIAGRAM):   if _dm3 = 'NO' then do;
23402     +      irradiatno = 1;
MPRINT(EM_DIAGRAM):   irradiatno = 1;
23403     +   end;
MPRINT(EM_DIAGRAM):   end;
23404     +   else if _dm3 = 'YES'  then do;
MPRINT(EM_DIAGRAM):   else if _dm3 = 'YES' then do;
23405     +      irradiatno = -1;
MPRINT(EM_DIAGRAM):   irradiatno = -1;
23406     +   end;
MPRINT(EM_DIAGRAM):   end;
23407     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23408     +      irradiatno = .;
MPRINT(EM_DIAGRAM):   irradiatno = .;
23409     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23410     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23411     +   end;
MPRINT(EM_DIAGRAM):   end;
23412     +end;
MPRINT(EM_DIAGRAM):   end;
23413     +
23414     +*** Generate dummy variables for menopause ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for menopause ;
23415     +drop menopausege40 menopauselt40 ;
MPRINT(EM_DIAGRAM):   drop menopausege40 menopauselt40 ;
23416     +if missing( menopause ) then do;
MPRINT(EM_DIAGRAM):   if missing( menopause ) then do;
23417     +   menopausege40 = .;
MPRINT(EM_DIAGRAM):   menopausege40 = .;
23418     +   menopauselt40 = .;
MPRINT(EM_DIAGRAM):   menopauselt40 = .;
23419     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23420     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23421     +end;
MPRINT(EM_DIAGRAM):   end;
23422     +else do;
MPRINT(EM_DIAGRAM):   else do;
23423     +   length _dm7 $ 7; drop _dm7 ;
MPRINT(EM_DIAGRAM):   length _dm7 $ 7;
MPRINT(EM_DIAGRAM):   drop _dm7 ;
23424     +   _dm7 = put( menopause , $7. );
MPRINT(EM_DIAGRAM):   _dm7 = put( menopause , $7. );
23425     +   %DMNORMIP( _dm7 )
MPRINT(DMNORMIP):   call dmnorm(_dm7,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
23426     +   if _dm7 = 'PREMENO'  then do;
MPRINT(EM_DIAGRAM):   if _dm7 = 'PREMENO' then do;
23427     +      menopausege40 = -1;
MPRINT(EM_DIAGRAM):   menopausege40 = -1;
23428     +      menopauselt40 = -1;
MPRINT(EM_DIAGRAM):   menopauselt40 = -1;
23429     +   end;
MPRINT(EM_DIAGRAM):   end;
23430     +   else if _dm7 = 'GE40'  then do;
MPRINT(EM_DIAGRAM):   else if _dm7 = 'GE40' then do;
23431     +      menopausege40 = 1;
MPRINT(EM_DIAGRAM):   menopausege40 = 1;
23432     +      menopauselt40 = 0;
MPRINT(EM_DIAGRAM):   menopauselt40 = 0;
23433     +   end;
MPRINT(EM_DIAGRAM):   end;
23434     +   else if _dm7 = 'LT40'  then do;
MPRINT(EM_DIAGRAM):   else if _dm7 = 'LT40' then do;
23435     +      menopausege40 = 0;
MPRINT(EM_DIAGRAM):   menopausege40 = 0;
23436     +      menopauselt40 = 1;
MPRINT(EM_DIAGRAM):   menopauselt40 = 1;
23437     +   end;
MPRINT(EM_DIAGRAM):   end;
23438     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23439     +      menopausege40 = .;
MPRINT(EM_DIAGRAM):   menopausege40 = .;
23440     +      menopauselt40 = .;
MPRINT(EM_DIAGRAM):   menopauselt40 = .;
23441     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23442     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23443     +   end;
MPRINT(EM_DIAGRAM):   end;
23444     +end;
MPRINT(EM_DIAGRAM):   end;
23445     +
23446     +*** Generate dummy variables for node_caps ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for node_caps ;
23447     +drop node_caps_ node_capsno ;
MPRINT(EM_DIAGRAM):   drop node_caps_ node_capsno ;
23448     +if missing( node_caps ) then do;
MPRINT(EM_DIAGRAM):   if missing( node_caps ) then do;
23449     +   node_caps_ = .;
MPRINT(EM_DIAGRAM):   node_caps_ = .;
23450     +   node_capsno = .;
MPRINT(EM_DIAGRAM):   node_capsno = .;
23451     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23452     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23453     +end;
MPRINT(EM_DIAGRAM):   end;
23454     +else do;
MPRINT(EM_DIAGRAM):   else do;
23455     +   length _dm3 $ 3; drop _dm3 ;
MPRINT(EM_DIAGRAM):   length _dm3 $ 3;
MPRINT(EM_DIAGRAM):   drop _dm3 ;
23456     +   %DMNORMCP( node_caps , _dm3 )
MPRINT(DMNORMCP):   _dm3=dmnorm(node_caps,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
23457     +   if _dm3 = 'NO'  then do;
MPRINT(EM_DIAGRAM):   if _dm3 = 'NO' then do;
23458     +      node_caps_ = 0;
MPRINT(EM_DIAGRAM):   node_caps_ = 0;
23459     +      node_capsno = 1;
MPRINT(EM_DIAGRAM):   node_capsno = 1;
23460     +   end;
MPRINT(EM_DIAGRAM):   end;
23461     +   else if _dm3 = 'YES'  then do;
MPRINT(EM_DIAGRAM):   else if _dm3 = 'YES' then do;
23462     +      node_caps_ = -1;
MPRINT(EM_DIAGRAM):   node_caps_ = -1;
23463     +      node_capsno = -1;
MPRINT(EM_DIAGRAM):   node_capsno = -1;
23464     +   end;
MPRINT(EM_DIAGRAM):   end;
23465     +   else if _dm3 = '?'  then do;
MPRINT(EM_DIAGRAM):   else if _dm3 = '?' then do;
23466     +      node_caps_ = 1;
MPRINT(EM_DIAGRAM):   node_caps_ = 1;
23467     +      node_capsno = 0;
MPRINT(EM_DIAGRAM):   node_capsno = 0;
23468     +   end;
MPRINT(EM_DIAGRAM):   end;
23469     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23470     +      node_caps_ = .;
MPRINT(EM_DIAGRAM):   node_caps_ = .;
23471     +      node_capsno = .;
MPRINT(EM_DIAGRAM):   node_capsno = .;
23472     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23473     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23474     +   end;
MPRINT(EM_DIAGRAM):   end;
23475     +end;
MPRINT(EM_DIAGRAM):   end;
23476     +
23477     +*** Generate dummy variables for tumor_size ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for tumor_size ;
23478     +drop tumor_size0_4 tumor_size15_19 tumor_size20_24 tumor_size25_29
23479     +        tumor_size30_34 tumor_size35_39 tumor_size40_44 tumor_size44690
23480     +        tumor_size44848 tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   drop tumor_size0_4 tumor_size15_19 tumor_size20_24 tumor_size25_29 tumor_size30_34 tumor_size35_39 tumor_size40_44 tumor_size44690 tumor_size44848 tumor_size45_49 ;
23481     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
23482     +tumor_size0_4 = 0;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = 0;
23483     +tumor_size15_19 = 0;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = 0;
23484     +tumor_size20_24 = 0;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = 0;
23485     +tumor_size25_29 = 0;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = 0;
23486     +tumor_size30_34 = 0;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = 0;
23487     +tumor_size35_39 = 0;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = 0;
23488     +tumor_size40_44 = 0;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = 0;
23489     +tumor_size44690 = 0;
MPRINT(EM_DIAGRAM):   tumor_size44690 = 0;
23490     +tumor_size44848 = 0;
MPRINT(EM_DIAGRAM):   tumor_size44848 = 0;
23491     +tumor_size45_49 = 0;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = 0;
23492     +if missing( tumor_size ) then do;
MPRINT(EM_DIAGRAM):   if missing( tumor_size ) then do;
23493     +   tumor_size0_4 = .;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = .;
23494     +   tumor_size15_19 = .;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = .;
23495     +   tumor_size20_24 = .;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = .;
23496     +   tumor_size25_29 = .;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = .;
23497     +   tumor_size30_34 = .;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = .;
23498     +   tumor_size35_39 = .;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = .;
23499     +   tumor_size40_44 = .;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = .;
23500     +   tumor_size44690 = .;
MPRINT(EM_DIAGRAM):   tumor_size44690 = .;
23501     +   tumor_size44848 = .;
MPRINT(EM_DIAGRAM):   tumor_size44848 = .;
23502     +   tumor_size45_49 = .;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = .;
23503     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23504     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23505     +end;
MPRINT(EM_DIAGRAM):   end;
23506     +else do;
MPRINT(EM_DIAGRAM):   else do;
23507     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
23508     +   %DMNORMCP( tumor_size , _dm5 )
MPRINT(DMNORMCP):   _dm5=dmnorm(tumor_size,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
23509     +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
23510     +   if _dm5 <= '35-39'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '35-39' then do;
23511     +      if _dm5 <= '20-24'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '20-24' then do;
23512     +         if _dm5 <= '15-19'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '15-19' then do;
23513     +            if _dm5 = '0-4'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '0-4' then do;
23514     +               tumor_size0_4 = 1;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = 1;
23515     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23516     +            end;
MPRINT(EM_DIAGRAM):   end;
23517     +            else do;
MPRINT(EM_DIAGRAM):   else do;
23518     +               if _dm5 = '15-19'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '15-19' then do;
23519     +                  tumor_size15_19 = 1;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = 1;
23520     +                  _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23521     +               end;
MPRINT(EM_DIAGRAM):   end;
23522     +            end;
MPRINT(EM_DIAGRAM):   end;
23523     +         end;
MPRINT(EM_DIAGRAM):   end;
23524     +         else do;
MPRINT(EM_DIAGRAM):   else do;
23525     +            if _dm5 = '20-24'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '20-24' then do;
23526     +               tumor_size20_24 = 1;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = 1;
23527     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23528     +            end;
MPRINT(EM_DIAGRAM):   end;
23529     +         end;
MPRINT(EM_DIAGRAM):   end;
23530     +      end;
MPRINT(EM_DIAGRAM):   end;
23531     +      else do;
MPRINT(EM_DIAGRAM):   else do;
23532     +         if _dm5 <= '30-34'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '30-34' then do;
23533     +            if _dm5 = '25-29'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '25-29' then do;
23534     +               tumor_size25_29 = 1;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = 1;
23535     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23536     +            end;
MPRINT(EM_DIAGRAM):   end;
23537     +            else do;
MPRINT(EM_DIAGRAM):   else do;
23538     +               if _dm5 = '30-34'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '30-34' then do;
23539     +                  tumor_size30_34 = 1;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = 1;
23540     +                  _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23541     +               end;
MPRINT(EM_DIAGRAM):   end;
23542     +            end;
MPRINT(EM_DIAGRAM):   end;
23543     +         end;
MPRINT(EM_DIAGRAM):   end;
23544     +         else do;
MPRINT(EM_DIAGRAM):   else do;
23545     +            if _dm5 = '35-39'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '35-39' then do;
23546     +               tumor_size35_39 = 1;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = 1;
23547     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23548     +            end;
MPRINT(EM_DIAGRAM):   end;
23549     +         end;
MPRINT(EM_DIAGRAM):   end;
23550     +      end;
MPRINT(EM_DIAGRAM):   end;
23551     +   end;
MPRINT(EM_DIAGRAM):   end;
23552     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23553     +      if _dm5 <= '44848'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '44848' then do;
23554     +         if _dm5 <= '44690'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '44690' then do;
23555     +            if _dm5 = '40-44'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '40-44' then do;
23556     +               tumor_size40_44 = 1;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = 1;
23557     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23558     +            end;
MPRINT(EM_DIAGRAM):   end;
23559     +            else do;
MPRINT(EM_DIAGRAM):   else do;
23560     +               if _dm5 = '44690'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '44690' then do;
23561     +                  tumor_size44690 = 1;
MPRINT(EM_DIAGRAM):   tumor_size44690 = 1;
23562     +                  _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23563     +               end;
MPRINT(EM_DIAGRAM):   end;
23564     +            end;
MPRINT(EM_DIAGRAM):   end;
23565     +         end;
MPRINT(EM_DIAGRAM):   end;
23566     +         else do;
MPRINT(EM_DIAGRAM):   else do;
23567     +            if _dm5 = '44848'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '44848' then do;
23568     +               tumor_size44848 = 1;
MPRINT(EM_DIAGRAM):   tumor_size44848 = 1;
23569     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23570     +            end;
MPRINT(EM_DIAGRAM):   end;
23571     +         end;
MPRINT(EM_DIAGRAM):   end;
23572     +      end;
MPRINT(EM_DIAGRAM):   end;
23573     +      else do;
MPRINT(EM_DIAGRAM):   else do;
23574     +         if _dm5 = '45-49'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '45-49' then do;
23575     +            tumor_size45_49 = 1;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = 1;
23576     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23577     +         end;
MPRINT(EM_DIAGRAM):   end;
23578     +         else do;
MPRINT(EM_DIAGRAM):   else do;
23579     +            if _dm5 = '50-54'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '50-54' then do;
23580     +               tumor_size0_4 = -1;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = -1;
23581     +               tumor_size15_19 = -1;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = -1;
23582     +               tumor_size20_24 = -1;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = -1;
23583     +               tumor_size25_29 = -1;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = -1;
23584     +               tumor_size30_34 = -1;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = -1;
23585     +               tumor_size35_39 = -1;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = -1;
23586     +               tumor_size40_44 = -1;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = -1;
23587     +               tumor_size44690 = -1;
MPRINT(EM_DIAGRAM):   tumor_size44690 = -1;
23588     +               tumor_size44848 = -1;
MPRINT(EM_DIAGRAM):   tumor_size44848 = -1;
23589     +               tumor_size45_49 = -1;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = -1;
23590     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23591     +            end;
MPRINT(EM_DIAGRAM):   end;
23592     +         end;
MPRINT(EM_DIAGRAM):   end;
23593     +      end;
MPRINT(EM_DIAGRAM):   end;
23594     +   end;
MPRINT(EM_DIAGRAM):   end;
23595     +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
23596     +      tumor_size0_4 = .;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = .;
23597     +      tumor_size15_19 = .;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = .;
23598     +      tumor_size20_24 = .;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = .;
23599     +      tumor_size25_29 = .;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = .;
23600     +      tumor_size30_34 = .;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = .;
23601     +      tumor_size35_39 = .;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = .;
23602     +      tumor_size40_44 = .;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = .;
23603     +      tumor_size44690 = .;
MPRINT(EM_DIAGRAM):   tumor_size44690 = .;
23604     +      tumor_size44848 = .;
MPRINT(EM_DIAGRAM):   tumor_size44848 = .;
23605     +      tumor_size45_49 = .;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = .;
23606     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23607     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23608     +   end;
MPRINT(EM_DIAGRAM):   end;
23609     +end;
MPRINT(EM_DIAGRAM):   end;
23610     +
23611     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23612     +*** Checking missing input Interval
23613     +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
23614     +
23615     +IF NMISS(
23616     +   REP_deg_malig   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( REP_deg_malig ) THEN DO;
23617     +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
23618     +
23619     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23620     +END;
MPRINT(EM_DIAGRAM):   END;
23621     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23622     +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
23623     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23624     +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
23625     +   S_REP_deg_malig  =    -2.68808602012898 +     1.34404301006449 *
23626     +        REP_deg_malig ;
MPRINT(EM_DIAGRAM):   S_REP_deg_malig = -2.68808602012898 + 1.34404301006449 * REP_deg_malig ;
23627     +END;
MPRINT(EM_DIAGRAM):   END;
23628     +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
23629     +   IF MISSING( REP_deg_malig ) THEN S_REP_deg_malig  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( REP_deg_malig ) THEN S_REP_deg_malig = . ;
23630     +   ELSE S_REP_deg_malig  =    -2.68808602012898 +     1.34404301006449 *
23631     +        REP_deg_malig ;
MPRINT(EM_DIAGRAM):   ELSE S_REP_deg_malig = -2.68808602012898 + 1.34404301006449 * REP_deg_malig ;
23632     +END;
MPRINT(EM_DIAGRAM):   END;
23633     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23634     +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
23635     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23636     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23637     +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
23638     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23639     +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
23640     +   H11  =     1.29967673953753 * S_REP_deg_malig ;
MPRINT(EM_DIAGRAM):   H11 = 1.29967673953753 * S_REP_deg_malig ;
23641     +   H12  =     0.77557932218669 * S_REP_deg_malig ;
MPRINT(EM_DIAGRAM):   H12 = 0.77557932218669 * S_REP_deg_malig ;
23642     +   H13  =     0.93861734109454 * S_REP_deg_malig ;
MPRINT(EM_DIAGRAM):   H13 = 0.93861734109454 * S_REP_deg_malig ;
23643     +   H11  = H11  +    -1.89372871343458 * age30_39  +     1.18159083875833 *
23644     +        age40_49  +    -0.57559912145065 * age50_59  +     0.31042061420126 *
23645     +        age60_69  +     0.56619109372632 * breastleft
23646     +          +     1.36896142238565 * breast_quad_  +     0.21779831783121 *
23647     +        breast_quadcentral  +    -0.73295582617479 * breast_quadleft_low
23648     +          +    -1.06669093387924 * breast_quadleft_up
23649     +          +    -0.21242656921669 * breast_quadright_low
23650     +          +    -1.23619982942799 * inv_nodes0_2  +     0.02462988713114 *
23651     +        inv_nodes15_17  +     0.72502982044539 * inv_nodes24_26
23652     +          +     0.87268312051735 * inv_nodes44625  +     0.78653355770398 *
23653     +        inv_nodes44720  +    -0.47220474424347 * irradiatno
23654     +          +     0.02918884968034 * menopausege40  +     0.49548647655557 *
23655     +        menopauselt40  +    -0.21771818662549 * node_caps_
23656     +          +     0.34207511738672 * node_capsno  +    -0.25759794857211 *
23657     +        tumor_size0_4  +     0.06070260861424 * tumor_size15_19
23658     +          +    -0.11304351627301 * tumor_size20_24  +      1.5540780601561 *
23659     +        tumor_size25_29  +     0.21361719394588 * tumor_size30_34
23660     +          +    -1.03142801038156 * tumor_size35_39  +    -0.01717462712527 *
23661     +        tumor_size40_44  +    -0.77373145085077 * tumor_size44690
23662     +          +    -1.67679450843088 * tumor_size44848  +     -0.8651042227298 *
23663     +        tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + -1.89372871343458 * age30_39 + 1.18159083875833 * age40_49 + -0.57559912145065 * age50_59 + 0.31042061420126 * age60_69 + 0.56619109372632 * breastleft + 1.36896142238565 * breast_quad_ + 0.21779831783121 * 
breast_quadcentral + -0.73295582617479 * breast_quadleft_low + -1.06669093387924 * breast_quadleft_up + -0.21242656921669 * breast_quadright_low + -1.23619982942799 * inv_nodes0_2 + 0.02462988713114 * inv_nodes15_17 + 0.72502982044539 * inv_nodes24_26 + 
0.87268312051735 * inv_nodes44625 + 0.78653355770398 * inv_nodes44720 + -0.47220474424347 * irradiatno + 0.02918884968034 * menopausege40 + 0.49548647655557 * menopauselt40 + -0.21771818662549 * node_caps_ + 0.34207511738672 * node_capsno + 
-0.25759794857211 * tumor_size0_4 + 0.06070260861424 * tumor_size15_19 + -0.11304351627301 * tumor_size20_24 + 1.5540780601561 * tumor_size25_29 + 0.21361719394588 * tumor_size30_34 + -1.03142801038156 * tumor_size35_39 + -0.01717462712527 * 
tumor_size40_44 + -0.77373145085077 * tumor_size44690 + -1.67679450843088 * tumor_size44848 + -0.8651042227298 * tumor_size45_49 ;
23664     +   H12  = H12  +     0.06884357533829 * age30_39  +    -0.56691097865869 *
23665     +        age40_49  +    -0.36045254602412 * age50_59  +    -0.06498825288945 *
23666     +        age60_69  +    -0.12988742430684 * breastleft
23667     +          +    -1.23590863994246 * breast_quad_  +    -0.58866870110724 *
23668     +        breast_quadcentral  +    -0.77016750190741 * breast_quadleft_low
23669     +          +    -0.05541145822809 * breast_quadleft_up
23670     +          +     1.06031463214452 * breast_quadright_low
23671     +          +      0.9900301084414 * inv_nodes0_2  +    -1.49860847474921 *
23672     +        inv_nodes15_17  +     -0.5679948428652 * inv_nodes24_26
23673     +          +     1.34677523660967 * inv_nodes44625  +    -0.37318615410526 *
23674     +        inv_nodes44720  +    -0.72398863264201 * irradiatno
23675     +          +    -0.75855801811773 * menopausege40  +     0.08375395231908 *
23676     +        menopauselt40  +     1.82983523525421 * node_caps_
23677     +          +     0.09630010197492 * node_capsno  +     1.07067110087746 *
23678     +        tumor_size0_4  +    -0.23395224211477 * tumor_size15_19
23679     +          +     0.05786191231766 * tumor_size20_24  +    -0.44650429056006 *
23680     +        tumor_size25_29  +    -2.82450583016768 * tumor_size30_34
23681     +          +    -0.21439553569815 * tumor_size35_39  +     0.41256268346618 *
23682     +        tumor_size40_44  +     0.49053243663712 * tumor_size44690
23683     +          +     1.13109356273131 * tumor_size44848  +     0.43329679504995 *
23684     +        tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.06884357533829 * age30_39 + -0.56691097865869 * age40_49 + -0.36045254602412 * age50_59 + -0.06498825288945 * age60_69 + -0.12988742430684 * breastleft + -1.23590863994246 * breast_quad_ + -0.58866870110724 * 
breast_quadcentral + -0.77016750190741 * breast_quadleft_low + -0.05541145822809 * breast_quadleft_up + 1.06031463214452 * breast_quadright_low + 0.9900301084414 * inv_nodes0_2 + -1.49860847474921 * inv_nodes15_17 + -0.5679948428652 * inv_nodes24_26 + 
1.34677523660967 * inv_nodes44625 + -0.37318615410526 * inv_nodes44720 + -0.72398863264201 * irradiatno + -0.75855801811773 * menopausege40 + 0.08375395231908 * menopauselt40 + 1.82983523525421 * node_caps_ + 0.09630010197492 * node_capsno + 
1.07067110087746 * tumor_size0_4 + -0.23395224211477 * tumor_size15_19 + 0.05786191231766 * tumor_size20_24 + -0.44650429056006 * tumor_size25_29 + -2.82450583016768 * tumor_size30_34 + -0.21439553569815 * tumor_size35_39 + 0.41256268346618 * 
tumor_size40_44 + 0.49053243663712 * tumor_size44690 + 1.13109356273131 * tumor_size44848 + 0.43329679504995 * tumor_size45_49 ;
23685     +   H13  = H13  +    -0.23234156974234 * age30_39  +      1.0453809577246 *
23686     +        age40_49  +     -1.1504489715378 * age50_59  +      0.7291309680577 *
23687     +        age60_69  +    -2.08405804299412 * breastleft
23688     +          +     0.31082180764289 * breast_quad_  +      0.6476098103614 *
23689     +        breast_quadcentral  +    -1.27138438353605 * breast_quadleft_low
23690     +          +      -1.009485406465 * breast_quadleft_up
23691     +          +     0.62890071564239 * breast_quadright_low
23692     +          +    -0.73615560860124 * inv_nodes0_2  +     0.42203816182367 *
23693     +        inv_nodes15_17  +     0.27803140853519 * inv_nodes24_26
23694     +          +     0.35949201634582 * inv_nodes44625  +    -0.42535257558671 *
23695     +        inv_nodes44720  +     -1.3892809236171 * irradiatno
23696     +          +    -1.46889950459836 * menopausege40  +    -1.17916866693018 *
23697     +        menopauselt40  +    -0.16702066164127 * node_caps_
23698     +          +     1.33367831970141 * node_capsno  +     -0.6036963995967 *
23699     +        tumor_size0_4  +    -0.45004817016056 * tumor_size15_19
23700     +          +     1.65495374032886 * tumor_size20_24  +    -0.70762461266355 *
23701     +        tumor_size25_29  +    -1.40476101029433 * tumor_size30_34
23702     +          +     0.05674606572907 * tumor_size35_39  +     1.74232452638987 *
23703     +        tumor_size40_44  +    -0.41196520167185 * tumor_size44690
23704     +          +    -0.74923948169842 * tumor_size44848  +    -0.35151710343101 *
23705     +        tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.23234156974234 * age30_39 + 1.0453809577246 * age40_49 + -1.1504489715378 * age50_59 + 0.7291309680577 * age60_69 + -2.08405804299412 * breastleft + 0.31082180764289 * breast_quad_ + 0.6476098103614 * 
breast_quadcentral + -1.27138438353605 * breast_quadleft_low + -1.009485406465 * breast_quadleft_up + 0.62890071564239 * breast_quadright_low + -0.73615560860124 * inv_nodes0_2 + 0.42203816182367 * inv_nodes15_17 + 0.27803140853519 * inv_nodes24_26 + 
0.35949201634582 * inv_nodes44625 + -0.42535257558671 * inv_nodes44720 + -1.3892809236171 * irradiatno + -1.46889950459836 * menopausege40 + -1.17916866693018 * menopauselt40 + -0.16702066164127 * node_caps_ + 1.33367831970141 * node_capsno + 
-0.6036963995967 * tumor_size0_4 + -0.45004817016056 * tumor_size15_19 + 1.65495374032886 * tumor_size20_24 + -0.70762461266355 * tumor_size25_29 + -1.40476101029433 * tumor_size30_34 + 0.05674606572907 * tumor_size35_39 + 1.74232452638987 * 
tumor_size40_44 + -0.41196520167185 * tumor_size44690 + -0.74923948169842 * tumor_size44848 + -0.35151710343101 * tumor_size45_49 ;
23706     +   H11  =    -1.53737817308102 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = -1.53737817308102 + H11 ;
23707     +   H12  =     0.22368104037921 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 0.22368104037921 + H12 ;
23708     +   H13  =     0.71788270115108 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = 0.71788270115108 + H13 ;
23709     +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
23710     +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
23711     +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
23712     +END;
MPRINT(EM_DIAGRAM):   END;
23713     +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
23714     +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
23715     +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
23716     +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
23717     +END;
MPRINT(EM_DIAGRAM):   END;
23718     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23719     +*** Writing the Node class ;
MPRINT(EM_DIAGRAM):   *** Writing the Node class ;
23720     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23721     +
23722     +*** Generate dummy variables for class ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for class ;
23723     +drop classrecurrence_events classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   drop classrecurrence_events classno_recurrence_events ;
23724     +label F_class = 'From: class' ;
MPRINT(EM_DIAGRAM):   label F_class = 'From: class' ;
23725     +length F_class $ 20;
MPRINT(EM_DIAGRAM):   length F_class $ 20;
23726     +F_class = put( class , $20. );
MPRINT(EM_DIAGRAM):   F_class = put( class , $20. );
23727     +%DMNORMIP( F_class )
MPRINT(DMNORMIP):   call dmnorm(F_class,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
23728     +if missing( class ) then do;
MPRINT(EM_DIAGRAM):   if missing( class ) then do;
23729     +   classrecurrence_events = .;
MPRINT(EM_DIAGRAM):   classrecurrence_events = .;
23730     +   classno_recurrence_events = .;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = .;
23731     +end;
MPRINT(EM_DIAGRAM):   end;
23732     +else do;
MPRINT(EM_DIAGRAM):   else do;
23733     +   if F_class = 'NO-RECURRENCE-EVENTS'  then do;
MPRINT(EM_DIAGRAM):   if F_class = 'NO-RECURRENCE-EVENTS' then do;
23734     +      classrecurrence_events = 0;
MPRINT(EM_DIAGRAM):   classrecurrence_events = 0;
23735     +      classno_recurrence_events = 1;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = 1;
23736     +   end;
MPRINT(EM_DIAGRAM):   end;
23737     +   else if F_class = 'RECURRENCE-EVENTS'  then do;
MPRINT(EM_DIAGRAM):   else if F_class = 'RECURRENCE-EVENTS' then do;
23738     +      classrecurrence_events = 1;
MPRINT(EM_DIAGRAM):   classrecurrence_events = 1;
23739     +      classno_recurrence_events = 0;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = 0;
23740     +   end;
MPRINT(EM_DIAGRAM):   end;
23741     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23742     +      classrecurrence_events = .;
MPRINT(EM_DIAGRAM):   classrecurrence_events = .;
23743     +      classno_recurrence_events = .;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = .;
23744     +   end;
MPRINT(EM_DIAGRAM):   end;
23745     +end;
MPRINT(EM_DIAGRAM):   end;
23746     +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
23747     +   P_classrecurrence_events  =     5.22644220551255 * H11
23748     +          +     -5.0201589606459 * H12  +     5.06988151887359 * H13 ;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = 5.22644220551255 * H11 + -5.0201589606459 * H12 + 5.06988151887359 * H13 ;
23749     +   P_classrecurrence_events  =    -0.02383213105302 + P_classrecurrence_events
23750     +         ;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = -0.02383213105302 + P_classrecurrence_events ;
23751     +   P_classno_recurrence_events  = 0;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = 0;
23752     +   _MAX_ = MAX (P_classrecurrence_events , P_classno_recurrence_events );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_classrecurrence_events , P_classno_recurrence_events );
23753     +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
23754     +   P_classrecurrence_events  = EXP(P_classrecurrence_events  - _MAX_);
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = EXP(P_classrecurrence_events - _MAX_);
23755     +   _SUM_ = _SUM_ + P_classrecurrence_events ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_classrecurrence_events ;
23756     +   P_classno_recurrence_events  = EXP(P_classno_recurrence_events  - _MAX_);
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = EXP(P_classno_recurrence_events - _MAX_);
23757     +   _SUM_ = _SUM_ + P_classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_classno_recurrence_events ;
23758     +   P_classrecurrence_events  = P_classrecurrence_events  / _SUM_;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = P_classrecurrence_events / _SUM_;
23759     +   P_classno_recurrence_events  = P_classno_recurrence_events  / _SUM_;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = P_classno_recurrence_events / _SUM_;
23760     +END;
MPRINT(EM_DIAGRAM):   END;
23761     +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
23762     +   P_classrecurrence_events  = .;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = .;
23763     +   P_classno_recurrence_events  = .;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = .;
23764     +END;
MPRINT(EM_DIAGRAM):   END;
23765     +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
23766     +   P_classrecurrence_events  =     0.29203539823008;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = 0.29203539823008;
23767     +   P_classno_recurrence_events  =     0.70796460176991;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = 0.70796460176991;
23768     +END;
MPRINT(EM_DIAGRAM):   END;
23769     +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
23770     +*** Writing the Residuals  of the Node class ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node class ;
23771     +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
23772     +IF MISSING( classrecurrence_events ) THEN R_classrecurrence_events  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( classrecurrence_events ) THEN R_classrecurrence_events = . ;
23773     +ELSE R_classrecurrence_events  = classrecurrence_events  -
23774     +        P_classrecurrence_events ;
MPRINT(EM_DIAGRAM):   ELSE R_classrecurrence_events = classrecurrence_events - P_classrecurrence_events ;
23775     +IF MISSING( classno_recurrence_events ) THEN R_classno_recurrence_events
23776     +          = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( classno_recurrence_events ) THEN R_classno_recurrence_events = . ;
23777     +ELSE R_classno_recurrence_events  = classno_recurrence_events  -
23778     +        P_classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   ELSE R_classno_recurrence_events = classno_recurrence_events - P_classno_recurrence_events ;
23779     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23780     +*** Writing the I_class  AND U_class ;
MPRINT(EM_DIAGRAM):   *** Writing the I_class AND U_class ;
23781     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
23782     +_MAXP_ = P_classrecurrence_events ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_classrecurrence_events ;
23783     +I_class  = "RECURRENCE-EVENTS   " ;
MPRINT(EM_DIAGRAM):   I_class = "RECURRENCE-EVENTS   " ;
23784     +U_class  = "recurrence-events   " ;
MPRINT(EM_DIAGRAM):   U_class = "recurrence-events   " ;
23785     +IF( _MAXP_ LT P_classno_recurrence_events  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_classno_recurrence_events ) THEN DO;
23786     +   _MAXP_ = P_classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_classno_recurrence_events ;
23787     +   I_class  = "NO-RECURRENCE-EVENTS" ;
MPRINT(EM_DIAGRAM):   I_class = "NO-RECURRENCE-EVENTS" ;
23788     +   U_class  = "no-recurrence-events" ;
MPRINT(EM_DIAGRAM):   U_class = "no-recurrence-events" ;
23789     +END;
MPRINT(EM_DIAGRAM):   END;
23790     +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
23791     +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
23792     +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
23793     +drop
23794     +H11
23795     +H12
23796     +H13
23797     +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 ;
23798     +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
23799      run;

NOTE: DATA STEP view saved on file EMWS1.NEURAL_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.TRANS_VALIDATE.VIEW used (Total process time):
      real time           0.17 seconds
      cpu time            0.15 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.19 seconds
      cpu time            0.18 seconds
      

MPRINT(EM_DIAGRAM):   quit;
23800      quit;
23801      filename emflow;
MPRINT(EM_DIAGRAM):   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
23802      filename emflow "D:\\BAN210PA\Workspaces\EMWS1\Neural\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):    filename emflow "D:\\BAN210PA\Workspaces\EMWS1\Neural\EMFLOWSCORE.sas";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Neural: Scoring TEST data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
23803      *------------------------------------------------------------*;
23804      * Neural: Scoring TEST data;
23805      *------------------------------------------------------------*;
23806      data EMWS1.Neural_TEST
23807      / view=EMWS1.Neural_TEST
23808      ;
MPRINT(EM_DIAGRAM):   data EMWS1.Neural_TEST / view=EMWS1.Neural_TEST ;
23809      set EMWS1.Trans_TEST
23810      ;
MPRINT(EM_DIAGRAM):   set EMWS1.Trans_TEST ;
23811      %inc emflow;
NOTE: %INCLUDE (level 1) file EMFLOW is file D:\\BAN210PA\Workspaces\EMWS1\Neural\EMFLOWSCORE.sas.
23812     +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
23813     +*** Begin Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** Begin Scoring Code for Neural;
23814     +***********************************;
MPRINT(EM_DIAGRAM):   ***********************************;
23815     +DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
MPRINT(EM_DIAGRAM):   DROP _DM_BAD _EPS _NOCL_ _MAX_ _MAXP_ _SUM_ _NTRIALS;
23816     + _DM_BAD = 0;
MPRINT(EM_DIAGRAM):   _DM_BAD = 0;
23817     + _NOCL_ = .;
MPRINT(EM_DIAGRAM):   _NOCL_ = .;
23818     + _MAX_ = .;
MPRINT(EM_DIAGRAM):   _MAX_ = .;
23819     + _MAXP_ = .;
MPRINT(EM_DIAGRAM):   _MAXP_ = .;
23820     + _SUM_ = .;
MPRINT(EM_DIAGRAM):   _SUM_ = .;
23821     + _NTRIALS = .;
MPRINT(EM_DIAGRAM):   _NTRIALS = .;
23822     + _EPS =                1E-10;
MPRINT(EM_DIAGRAM):   _EPS = 1E-10;
23823     +LENGTH _WARN_ $4
23824     +      F_class  $ 20
23825     +      I_class  $ 20
23826     +      U_class  $ 20
23827     +;
MPRINT(EM_DIAGRAM):   LENGTH _WARN_ $4 F_class $ 20 I_class $ 20 U_class $ 20 ;
23828     +      label S_REP_deg_malig = 'Standard: REP_deg_malig' ;
MPRINT(EM_DIAGRAM):   label S_REP_deg_malig = 'Standard: REP_deg_malig' ;
23829     +
23830     +      label age30_39 = 'Dummy: age=30-39' ;
MPRINT(EM_DIAGRAM):   label age30_39 = 'Dummy: age=30-39' ;
23831     +
23832     +      label age40_49 = 'Dummy: age=40-49' ;
MPRINT(EM_DIAGRAM):   label age40_49 = 'Dummy: age=40-49' ;
23833     +
23834     +      label age50_59 = 'Dummy: age=50-59' ;
MPRINT(EM_DIAGRAM):   label age50_59 = 'Dummy: age=50-59' ;
23835     +
23836     +      label age60_69 = 'Dummy: age=60-69' ;
MPRINT(EM_DIAGRAM):   label age60_69 = 'Dummy: age=60-69' ;
23837     +
23838     +      label breastleft = 'Dummy: breast=left' ;
MPRINT(EM_DIAGRAM):   label breastleft = 'Dummy: breast=left' ;
23839     +
23840     +      label breast_quad_ = 'Dummy: breast_quad=?' ;
MPRINT(EM_DIAGRAM):   label breast_quad_ = 'Dummy: breast_quad=?' ;
23841     +
23842     +      label breast_quadcentral = 'Dummy: breast_quad=central' ;
MPRINT(EM_DIAGRAM):   label breast_quadcentral = 'Dummy: breast_quad=central' ;
23843     +
23844     +      label breast_quadleft_low = 'Dummy: breast_quad=left_low' ;
MPRINT(EM_DIAGRAM):   label breast_quadleft_low = 'Dummy: breast_quad=left_low' ;
23845     +
23846     +      label breast_quadleft_up = 'Dummy: breast_quad=left_up' ;
MPRINT(EM_DIAGRAM):   label breast_quadleft_up = 'Dummy: breast_quad=left_up' ;
23847     +
23848     +      label breast_quadright_low = 'Dummy: breast_quad=right_low' ;
MPRINT(EM_DIAGRAM):   label breast_quadright_low = 'Dummy: breast_quad=right_low' ;
23849     +
23850     +      label inv_nodes0_2 = 'Dummy: inv_nodes=0-2' ;
MPRINT(EM_DIAGRAM):   label inv_nodes0_2 = 'Dummy: inv_nodes=0-2' ;
23851     +
23852     +      label inv_nodes15_17 = 'Dummy: inv_nodes=15-17' ;
MPRINT(EM_DIAGRAM):   label inv_nodes15_17 = 'Dummy: inv_nodes=15-17' ;
23853     +
23854     +      label inv_nodes24_26 = 'Dummy: inv_nodes=24-26' ;
MPRINT(EM_DIAGRAM):   label inv_nodes24_26 = 'Dummy: inv_nodes=24-26' ;
23855     +
23856     +      label inv_nodes44625 = 'Dummy: inv_nodes=44625' ;
MPRINT(EM_DIAGRAM):   label inv_nodes44625 = 'Dummy: inv_nodes=44625' ;
23857     +
23858     +      label inv_nodes44720 = 'Dummy: inv_nodes=44720' ;
MPRINT(EM_DIAGRAM):   label inv_nodes44720 = 'Dummy: inv_nodes=44720' ;
23859     +
23860     +      label irradiatno = 'Dummy: irradiat=no' ;
MPRINT(EM_DIAGRAM):   label irradiatno = 'Dummy: irradiat=no' ;
23861     +
23862     +      label menopausege40 = 'Dummy: menopause=ge40' ;
MPRINT(EM_DIAGRAM):   label menopausege40 = 'Dummy: menopause=ge40' ;
23863     +
23864     +      label menopauselt40 = 'Dummy: menopause=lt40' ;
MPRINT(EM_DIAGRAM):   label menopauselt40 = 'Dummy: menopause=lt40' ;
23865     +
23866     +      label node_caps_ = 'Dummy: node_caps=?' ;
MPRINT(EM_DIAGRAM):   label node_caps_ = 'Dummy: node_caps=?' ;
23867     +
23868     +      label node_capsno = 'Dummy: node_caps=no' ;
MPRINT(EM_DIAGRAM):   label node_capsno = 'Dummy: node_caps=no' ;
23869     +
23870     +      label tumor_size0_4 = 'Dummy: tumor_size=0-4' ;
MPRINT(EM_DIAGRAM):   label tumor_size0_4 = 'Dummy: tumor_size=0-4' ;
23871     +
23872     +      label tumor_size15_19 = 'Dummy: tumor_size=15-19' ;
MPRINT(EM_DIAGRAM):   label tumor_size15_19 = 'Dummy: tumor_size=15-19' ;
23873     +
23874     +      label tumor_size20_24 = 'Dummy: tumor_size=20-24' ;
MPRINT(EM_DIAGRAM):   label tumor_size20_24 = 'Dummy: tumor_size=20-24' ;
23875     +
23876     +      label tumor_size25_29 = 'Dummy: tumor_size=25-29' ;
MPRINT(EM_DIAGRAM):   label tumor_size25_29 = 'Dummy: tumor_size=25-29' ;
23877     +
23878     +      label tumor_size30_34 = 'Dummy: tumor_size=30-34' ;
MPRINT(EM_DIAGRAM):   label tumor_size30_34 = 'Dummy: tumor_size=30-34' ;
23879     +
23880     +      label tumor_size35_39 = 'Dummy: tumor_size=35-39' ;
MPRINT(EM_DIAGRAM):   label tumor_size35_39 = 'Dummy: tumor_size=35-39' ;
23881     +
23882     +      label tumor_size40_44 = 'Dummy: tumor_size=40-44' ;
MPRINT(EM_DIAGRAM):   label tumor_size40_44 = 'Dummy: tumor_size=40-44' ;
23883     +
23884     +      label tumor_size44690 = 'Dummy: tumor_size=44690' ;
MPRINT(EM_DIAGRAM):   label tumor_size44690 = 'Dummy: tumor_size=44690' ;
23885     +
23886     +      label tumor_size44848 = 'Dummy: tumor_size=44848' ;
MPRINT(EM_DIAGRAM):   label tumor_size44848 = 'Dummy: tumor_size=44848' ;
23887     +
23888     +      label tumor_size45_49 = 'Dummy: tumor_size=45-49' ;
MPRINT(EM_DIAGRAM):   label tumor_size45_49 = 'Dummy: tumor_size=45-49' ;
23889     +
23890     +      label H11 = 'Hidden: H1=1' ;
MPRINT(EM_DIAGRAM):   label H11 = 'Hidden: H1=1' ;
23891     +
23892     +      label H12 = 'Hidden: H1=2' ;
MPRINT(EM_DIAGRAM):   label H12 = 'Hidden: H1=2' ;
23893     +
23894     +      label H13 = 'Hidden: H1=3' ;
MPRINT(EM_DIAGRAM):   label H13 = 'Hidden: H1=3' ;
23895     +
23896     +      label I_class = 'Into: class' ;
MPRINT(EM_DIAGRAM):   label I_class = 'Into: class' ;
23897     +
23898     +      label F_class = 'From: class' ;
MPRINT(EM_DIAGRAM):   label F_class = 'From: class' ;
23899     +
23900     +      label U_class = 'Unnormalized Into: class' ;
MPRINT(EM_DIAGRAM):   label U_class = 'Unnormalized Into: class' ;
23901     +
23902     +      label P_classrecurrence_events = 'Predicted: class=recurrence-events' ;
MPRINT(EM_DIAGRAM):   label P_classrecurrence_events = 'Predicted: class=recurrence-events' ;
23903     +
23904     +      label R_classrecurrence_events = 'Residual: class=recurrence-events' ;
MPRINT(EM_DIAGRAM):   label R_classrecurrence_events = 'Residual: class=recurrence-events' ;
23905     +
23906     +      label P_classno_recurrence_events =
23907     +'Predicted: class=no-recurrence-events' ;
MPRINT(EM_DIAGRAM):   label P_classno_recurrence_events = 'Predicted: class=no-recurrence-events' ;
23908     +
23909     +      label R_classno_recurrence_events =
23910     +'Residual: class=no-recurrence-events' ;
MPRINT(EM_DIAGRAM):   label R_classno_recurrence_events = 'Residual: class=no-recurrence-events' ;
23911     +
23912     +      label  _WARN_ = "Warnings";
MPRINT(EM_DIAGRAM):   label _WARN_ = "Warnings";
23913     +
23914     +*** Generate dummy variables for age ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for age ;
23915     +drop age30_39 age40_49 age50_59 age60_69 ;
MPRINT(EM_DIAGRAM):   drop age30_39 age40_49 age50_59 age60_69 ;
23916     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
23917     +age30_39 = 0;
MPRINT(EM_DIAGRAM):   age30_39 = 0;
23918     +age40_49 = 0;
MPRINT(EM_DIAGRAM):   age40_49 = 0;
23919     +age50_59 = 0;
MPRINT(EM_DIAGRAM):   age50_59 = 0;
23920     +age60_69 = 0;
MPRINT(EM_DIAGRAM):   age60_69 = 0;
23921     +if missing( age ) then do;
MPRINT(EM_DIAGRAM):   if missing( age ) then do;
23922     +   age30_39 = .;
MPRINT(EM_DIAGRAM):   age30_39 = .;
23923     +   age40_49 = .;
MPRINT(EM_DIAGRAM):   age40_49 = .;
23924     +   age50_59 = .;
MPRINT(EM_DIAGRAM):   age50_59 = .;
23925     +   age60_69 = .;
MPRINT(EM_DIAGRAM):   age60_69 = .;
23926     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23927     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23928     +end;
MPRINT(EM_DIAGRAM):   end;
23929     +else do;
MPRINT(EM_DIAGRAM):   else do;
23930     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
23931     +   _dm5 = put( age , $5. );
MPRINT(EM_DIAGRAM):   _dm5 = put( age , $5. );
23932     +   %DMNORMIP( _dm5 )
MPRINT(DMNORMIP):   call dmnorm(_dm5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
23933     +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
23934     +   if _dm5 <= '50-59'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '50-59' then do;
23935     +      if _dm5 <= '40-49'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '40-49' then do;
23936     +         if _dm5 = '30-39'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '30-39' then do;
23937     +            age30_39 = 1;
MPRINT(EM_DIAGRAM):   age30_39 = 1;
23938     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23939     +         end;
MPRINT(EM_DIAGRAM):   end;
23940     +         else do;
MPRINT(EM_DIAGRAM):   else do;
23941     +            if _dm5 = '40-49'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '40-49' then do;
23942     +               age40_49 = 1;
MPRINT(EM_DIAGRAM):   age40_49 = 1;
23943     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23944     +            end;
MPRINT(EM_DIAGRAM):   end;
23945     +         end;
MPRINT(EM_DIAGRAM):   end;
23946     +      end;
MPRINT(EM_DIAGRAM):   end;
23947     +      else do;
MPRINT(EM_DIAGRAM):   else do;
23948     +         if _dm5 = '50-59'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '50-59' then do;
23949     +            age50_59 = 1;
MPRINT(EM_DIAGRAM):   age50_59 = 1;
23950     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23951     +         end;
MPRINT(EM_DIAGRAM):   end;
23952     +      end;
MPRINT(EM_DIAGRAM):   end;
23953     +   end;
MPRINT(EM_DIAGRAM):   end;
23954     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23955     +      if _dm5 = '60-69'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '60-69' then do;
23956     +         age60_69 = 1;
MPRINT(EM_DIAGRAM):   age60_69 = 1;
23957     +         _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23958     +      end;
MPRINT(EM_DIAGRAM):   end;
23959     +      else do;
MPRINT(EM_DIAGRAM):   else do;
23960     +         if _dm5 = '70-79'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '70-79' then do;
23961     +            age30_39 = -1;
MPRINT(EM_DIAGRAM):   age30_39 = -1;
23962     +            age40_49 = -1;
MPRINT(EM_DIAGRAM):   age40_49 = -1;
23963     +            age50_59 = -1;
MPRINT(EM_DIAGRAM):   age50_59 = -1;
23964     +            age60_69 = -1;
MPRINT(EM_DIAGRAM):   age60_69 = -1;
23965     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
23966     +         end;
MPRINT(EM_DIAGRAM):   end;
23967     +      end;
MPRINT(EM_DIAGRAM):   end;
23968     +   end;
MPRINT(EM_DIAGRAM):   end;
23969     +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
23970     +      age30_39 = .;
MPRINT(EM_DIAGRAM):   age30_39 = .;
23971     +      age40_49 = .;
MPRINT(EM_DIAGRAM):   age40_49 = .;
23972     +      age50_59 = .;
MPRINT(EM_DIAGRAM):   age50_59 = .;
23973     +      age60_69 = .;
MPRINT(EM_DIAGRAM):   age60_69 = .;
23974     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23975     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23976     +   end;
MPRINT(EM_DIAGRAM):   end;
23977     +end;
MPRINT(EM_DIAGRAM):   end;
23978     +
23979     +*** Generate dummy variables for breast ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for breast ;
23980     +drop breastleft ;
MPRINT(EM_DIAGRAM):   drop breastleft ;
23981     +if missing( breast ) then do;
MPRINT(EM_DIAGRAM):   if missing( breast ) then do;
23982     +   breastleft = .;
MPRINT(EM_DIAGRAM):   breastleft = .;
23983     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
23984     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
23985     +end;
MPRINT(EM_DIAGRAM):   end;
23986     +else do;
MPRINT(EM_DIAGRAM):   else do;
23987     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
23988     +   _dm5 = put( breast , $5. );
MPRINT(EM_DIAGRAM):   _dm5 = put( breast , $5. );
23989     +   %DMNORMIP( _dm5 )
MPRINT(DMNORMIP):   call dmnorm(_dm5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
23990     +   if _dm5 = 'LEFT'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = 'LEFT' then do;
23991     +      breastleft = 1;
MPRINT(EM_DIAGRAM):   breastleft = 1;
23992     +   end;
MPRINT(EM_DIAGRAM):   end;
23993     +   else if _dm5 = 'RIGHT'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = 'RIGHT' then do;
23994     +      breastleft = -1;
MPRINT(EM_DIAGRAM):   breastleft = -1;
23995     +   end;
MPRINT(EM_DIAGRAM):   end;
23996     +   else do;
MPRINT(EM_DIAGRAM):   else do;
23997     +      breastleft = .;
MPRINT(EM_DIAGRAM):   breastleft = .;
23998     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
23999     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24000     +   end;
MPRINT(EM_DIAGRAM):   end;
24001     +end;
MPRINT(EM_DIAGRAM):   end;
24002     +
24003     +*** Generate dummy variables for breast_quad ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for breast_quad ;
24004     +drop breast_quad_ breast_quadcentral breast_quadleft_low breast_quadleft_up
24005     +        breast_quadright_low ;
MPRINT(EM_DIAGRAM):   drop breast_quad_ breast_quadcentral breast_quadleft_low breast_quadleft_up breast_quadright_low ;
24006     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
24007     +breast_quad_ = 0;
MPRINT(EM_DIAGRAM):   breast_quad_ = 0;
24008     +breast_quadcentral = 0;
MPRINT(EM_DIAGRAM):   breast_quadcentral = 0;
24009     +breast_quadleft_low = 0;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = 0;
24010     +breast_quadleft_up = 0;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = 0;
24011     +breast_quadright_low = 0;
MPRINT(EM_DIAGRAM):   breast_quadright_low = 0;
24012     +if missing( breast_quad ) then do;
MPRINT(EM_DIAGRAM):   if missing( breast_quad ) then do;
24013     +   breast_quad_ = .;
MPRINT(EM_DIAGRAM):   breast_quad_ = .;
24014     +   breast_quadcentral = .;
MPRINT(EM_DIAGRAM):   breast_quadcentral = .;
24015     +   breast_quadleft_low = .;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = .;
24016     +   breast_quadleft_up = .;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = .;
24017     +   breast_quadright_low = .;
MPRINT(EM_DIAGRAM):   breast_quadright_low = .;
24018     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
24019     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24020     +end;
MPRINT(EM_DIAGRAM):   end;
24021     +else do;
MPRINT(EM_DIAGRAM):   else do;
24022     +   length _dm9 $ 9; drop _dm9 ;
MPRINT(EM_DIAGRAM):   length _dm9 $ 9;
MPRINT(EM_DIAGRAM):   drop _dm9 ;
24023     +   %DMNORMCP( breast_quad , _dm9 )
MPRINT(DMNORMCP):   _dm9=dmnorm(breast_quad,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
24024     +   if _dm9 = 'LEFT_LOW'  then do;
MPRINT(EM_DIAGRAM):   if _dm9 = 'LEFT_LOW' then do;
24025     +      breast_quadleft_low = 1;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = 1;
24026     +   end;
MPRINT(EM_DIAGRAM):   end;
24027     +   else if _dm9 = 'LEFT_UP'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'LEFT_UP' then do;
24028     +      breast_quadleft_up = 1;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = 1;
24029     +   end;
MPRINT(EM_DIAGRAM):   end;
24030     +   else if _dm9 = 'RIGHT_UP'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'RIGHT_UP' then do;
24031     +      breast_quad_ = -1;
MPRINT(EM_DIAGRAM):   breast_quad_ = -1;
24032     +      breast_quadcentral = -1;
MPRINT(EM_DIAGRAM):   breast_quadcentral = -1;
24033     +      breast_quadleft_low = -1;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = -1;
24034     +      breast_quadleft_up = -1;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = -1;
24035     +      breast_quadright_low = -1;
MPRINT(EM_DIAGRAM):   breast_quadright_low = -1;
24036     +   end;
MPRINT(EM_DIAGRAM):   end;
24037     +   else if _dm9 = 'CENTRAL'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'CENTRAL' then do;
24038     +      breast_quadcentral = 1;
MPRINT(EM_DIAGRAM):   breast_quadcentral = 1;
24039     +   end;
MPRINT(EM_DIAGRAM):   end;
24040     +   else if _dm9 = 'RIGHT_LOW'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = 'RIGHT_LOW' then do;
24041     +      breast_quadright_low = 1;
MPRINT(EM_DIAGRAM):   breast_quadright_low = 1;
24042     +   end;
MPRINT(EM_DIAGRAM):   end;
24043     +   else if _dm9 = '?'  then do;
MPRINT(EM_DIAGRAM):   else if _dm9 = '?' then do;
24044     +      breast_quad_ = 1;
MPRINT(EM_DIAGRAM):   breast_quad_ = 1;
24045     +   end;
MPRINT(EM_DIAGRAM):   end;
24046     +   else do;
MPRINT(EM_DIAGRAM):   else do;
24047     +      breast_quad_ = .;
MPRINT(EM_DIAGRAM):   breast_quad_ = .;
24048     +      breast_quadcentral = .;
MPRINT(EM_DIAGRAM):   breast_quadcentral = .;
24049     +      breast_quadleft_low = .;
MPRINT(EM_DIAGRAM):   breast_quadleft_low = .;
24050     +      breast_quadleft_up = .;
MPRINT(EM_DIAGRAM):   breast_quadleft_up = .;
24051     +      breast_quadright_low = .;
MPRINT(EM_DIAGRAM):   breast_quadright_low = .;
24052     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
24053     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24054     +   end;
MPRINT(EM_DIAGRAM):   end;
24055     +end;
MPRINT(EM_DIAGRAM):   end;
24056     +
24057     +*** Generate dummy variables for inv_nodes ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for inv_nodes ;
24058     +drop inv_nodes0_2 inv_nodes15_17 inv_nodes24_26 inv_nodes44625 inv_nodes44720
24059     +        ;
MPRINT(EM_DIAGRAM):   drop inv_nodes0_2 inv_nodes15_17 inv_nodes24_26 inv_nodes44625 inv_nodes44720 ;
24060     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
24061     +inv_nodes0_2 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = 0;
24062     +inv_nodes15_17 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = 0;
24063     +inv_nodes24_26 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = 0;
24064     +inv_nodes44625 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = 0;
24065     +inv_nodes44720 = 0;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = 0;
24066     +if missing( inv_nodes ) then do;
MPRINT(EM_DIAGRAM):   if missing( inv_nodes ) then do;
24067     +   inv_nodes0_2 = .;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = .;
24068     +   inv_nodes15_17 = .;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = .;
24069     +   inv_nodes24_26 = .;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = .;
24070     +   inv_nodes44625 = .;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = .;
24071     +   inv_nodes44720 = .;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = .;
24072     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
24073     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24074     +end;
MPRINT(EM_DIAGRAM):   end;
24075     +else do;
MPRINT(EM_DIAGRAM):   else do;
24076     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
24077     +   _dm5 = put( inv_nodes , $5. );
MPRINT(EM_DIAGRAM):   _dm5 = put( inv_nodes , $5. );
24078     +   %DMNORMIP( _dm5 )
MPRINT(DMNORMIP):   call dmnorm(_dm5,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
24079     +   if _dm5 = '0-2'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '0-2' then do;
24080     +      inv_nodes0_2 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = 1;
24081     +   end;
MPRINT(EM_DIAGRAM):   end;
24082     +   else if _dm5 = '44625'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '44625' then do;
24083     +      inv_nodes44625 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = 1;
24084     +   end;
MPRINT(EM_DIAGRAM):   end;
24085     +   else if _dm5 = '15-17'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '15-17' then do;
24086     +      inv_nodes15_17 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = 1;
24087     +   end;
MPRINT(EM_DIAGRAM):   end;
24088     +   else if _dm5 = '44815'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '44815' then do;
24089     +      inv_nodes0_2 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = -1;
24090     +      inv_nodes15_17 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = -1;
24091     +      inv_nodes24_26 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = -1;
24092     +      inv_nodes44625 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = -1;
24093     +      inv_nodes44720 = -1;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = -1;
24094     +   end;
MPRINT(EM_DIAGRAM):   end;
24095     +   else if _dm5 = '44720'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '44720' then do;
24096     +      inv_nodes44720 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = 1;
24097     +   end;
MPRINT(EM_DIAGRAM):   end;
24098     +   else if _dm5 = '24-26'  then do;
MPRINT(EM_DIAGRAM):   else if _dm5 = '24-26' then do;
24099     +      inv_nodes24_26 = 1;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = 1;
24100     +   end;
MPRINT(EM_DIAGRAM):   end;
24101     +   else do;
MPRINT(EM_DIAGRAM):   else do;
24102     +      inv_nodes0_2 = .;
MPRINT(EM_DIAGRAM):   inv_nodes0_2 = .;
24103     +      inv_nodes15_17 = .;
MPRINT(EM_DIAGRAM):   inv_nodes15_17 = .;
24104     +      inv_nodes24_26 = .;
MPRINT(EM_DIAGRAM):   inv_nodes24_26 = .;
24105     +      inv_nodes44625 = .;
MPRINT(EM_DIAGRAM):   inv_nodes44625 = .;
24106     +      inv_nodes44720 = .;
MPRINT(EM_DIAGRAM):   inv_nodes44720 = .;
24107     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
24108     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24109     +   end;
MPRINT(EM_DIAGRAM):   end;
24110     +end;
MPRINT(EM_DIAGRAM):   end;
24111     +
24112     +*** Generate dummy variables for irradiat ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for irradiat ;
24113     +drop irradiatno ;
MPRINT(EM_DIAGRAM):   drop irradiatno ;
24114     +if missing( irradiat ) then do;
MPRINT(EM_DIAGRAM):   if missing( irradiat ) then do;
24115     +   irradiatno = .;
MPRINT(EM_DIAGRAM):   irradiatno = .;
24116     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
24117     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24118     +end;
MPRINT(EM_DIAGRAM):   end;
24119     +else do;
MPRINT(EM_DIAGRAM):   else do;
24120     +   length _dm3 $ 3; drop _dm3 ;
MPRINT(EM_DIAGRAM):   length _dm3 $ 3;
MPRINT(EM_DIAGRAM):   drop _dm3 ;
24121     +   _dm3 = put( irradiat , $3. );
MPRINT(EM_DIAGRAM):   _dm3 = put( irradiat , $3. );
24122     +   %DMNORMIP( _dm3 )
MPRINT(DMNORMIP):   call dmnorm(_dm3,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
24123     +   if _dm3 = 'NO'  then do;
MPRINT(EM_DIAGRAM):   if _dm3 = 'NO' then do;
24124     +      irradiatno = 1;
MPRINT(EM_DIAGRAM):   irradiatno = 1;
24125     +   end;
MPRINT(EM_DIAGRAM):   end;
24126     +   else if _dm3 = 'YES'  then do;
MPRINT(EM_DIAGRAM):   else if _dm3 = 'YES' then do;
24127     +      irradiatno = -1;
MPRINT(EM_DIAGRAM):   irradiatno = -1;
24128     +   end;
MPRINT(EM_DIAGRAM):   end;
24129     +   else do;
MPRINT(EM_DIAGRAM):   else do;
24130     +      irradiatno = .;
MPRINT(EM_DIAGRAM):   irradiatno = .;
24131     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
24132     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24133     +   end;
MPRINT(EM_DIAGRAM):   end;
24134     +end;
MPRINT(EM_DIAGRAM):   end;
24135     +
24136     +*** Generate dummy variables for menopause ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for menopause ;
24137     +drop menopausege40 menopauselt40 ;
MPRINT(EM_DIAGRAM):   drop menopausege40 menopauselt40 ;
24138     +if missing( menopause ) then do;
MPRINT(EM_DIAGRAM):   if missing( menopause ) then do;
24139     +   menopausege40 = .;
MPRINT(EM_DIAGRAM):   menopausege40 = .;
24140     +   menopauselt40 = .;
MPRINT(EM_DIAGRAM):   menopauselt40 = .;
24141     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
24142     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24143     +end;
MPRINT(EM_DIAGRAM):   end;
24144     +else do;
MPRINT(EM_DIAGRAM):   else do;
24145     +   length _dm7 $ 7; drop _dm7 ;
MPRINT(EM_DIAGRAM):   length _dm7 $ 7;
MPRINT(EM_DIAGRAM):   drop _dm7 ;
24146     +   _dm7 = put( menopause , $7. );
MPRINT(EM_DIAGRAM):   _dm7 = put( menopause , $7. );
24147     +   %DMNORMIP( _dm7 )
MPRINT(DMNORMIP):   call dmnorm(_dm7,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
24148     +   if _dm7 = 'PREMENO'  then do;
MPRINT(EM_DIAGRAM):   if _dm7 = 'PREMENO' then do;
24149     +      menopausege40 = -1;
MPRINT(EM_DIAGRAM):   menopausege40 = -1;
24150     +      menopauselt40 = -1;
MPRINT(EM_DIAGRAM):   menopauselt40 = -1;
24151     +   end;
MPRINT(EM_DIAGRAM):   end;
24152     +   else if _dm7 = 'GE40'  then do;
MPRINT(EM_DIAGRAM):   else if _dm7 = 'GE40' then do;
24153     +      menopausege40 = 1;
MPRINT(EM_DIAGRAM):   menopausege40 = 1;
24154     +      menopauselt40 = 0;
MPRINT(EM_DIAGRAM):   menopauselt40 = 0;
24155     +   end;
MPRINT(EM_DIAGRAM):   end;
24156     +   else if _dm7 = 'LT40'  then do;
MPRINT(EM_DIAGRAM):   else if _dm7 = 'LT40' then do;
24157     +      menopausege40 = 0;
MPRINT(EM_DIAGRAM):   menopausege40 = 0;
24158     +      menopauselt40 = 1;
MPRINT(EM_DIAGRAM):   menopauselt40 = 1;
24159     +   end;
MPRINT(EM_DIAGRAM):   end;
24160     +   else do;
MPRINT(EM_DIAGRAM):   else do;
24161     +      menopausege40 = .;
MPRINT(EM_DIAGRAM):   menopausege40 = .;
24162     +      menopauselt40 = .;
MPRINT(EM_DIAGRAM):   menopauselt40 = .;
24163     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
24164     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24165     +   end;
MPRINT(EM_DIAGRAM):   end;
24166     +end;
MPRINT(EM_DIAGRAM):   end;
24167     +
24168     +*** Generate dummy variables for node_caps ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for node_caps ;
24169     +drop node_caps_ node_capsno ;
MPRINT(EM_DIAGRAM):   drop node_caps_ node_capsno ;
24170     +if missing( node_caps ) then do;
MPRINT(EM_DIAGRAM):   if missing( node_caps ) then do;
24171     +   node_caps_ = .;
MPRINT(EM_DIAGRAM):   node_caps_ = .;
24172     +   node_capsno = .;
MPRINT(EM_DIAGRAM):   node_capsno = .;
24173     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
24174     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24175     +end;
MPRINT(EM_DIAGRAM):   end;
24176     +else do;
MPRINT(EM_DIAGRAM):   else do;
24177     +   length _dm3 $ 3; drop _dm3 ;
MPRINT(EM_DIAGRAM):   length _dm3 $ 3;
MPRINT(EM_DIAGRAM):   drop _dm3 ;
24178     +   %DMNORMCP( node_caps , _dm3 )
MPRINT(DMNORMCP):   _dm3=dmnorm(node_caps,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
24179     +   if _dm3 = 'NO'  then do;
MPRINT(EM_DIAGRAM):   if _dm3 = 'NO' then do;
24180     +      node_caps_ = 0;
MPRINT(EM_DIAGRAM):   node_caps_ = 0;
24181     +      node_capsno = 1;
MPRINT(EM_DIAGRAM):   node_capsno = 1;
24182     +   end;
MPRINT(EM_DIAGRAM):   end;
24183     +   else if _dm3 = 'YES'  then do;
MPRINT(EM_DIAGRAM):   else if _dm3 = 'YES' then do;
24184     +      node_caps_ = -1;
MPRINT(EM_DIAGRAM):   node_caps_ = -1;
24185     +      node_capsno = -1;
MPRINT(EM_DIAGRAM):   node_capsno = -1;
24186     +   end;
MPRINT(EM_DIAGRAM):   end;
24187     +   else if _dm3 = '?'  then do;
MPRINT(EM_DIAGRAM):   else if _dm3 = '?' then do;
24188     +      node_caps_ = 1;
MPRINT(EM_DIAGRAM):   node_caps_ = 1;
24189     +      node_capsno = 0;
MPRINT(EM_DIAGRAM):   node_capsno = 0;
24190     +   end;
MPRINT(EM_DIAGRAM):   end;
24191     +   else do;
MPRINT(EM_DIAGRAM):   else do;
24192     +      node_caps_ = .;
MPRINT(EM_DIAGRAM):   node_caps_ = .;
24193     +      node_capsno = .;
MPRINT(EM_DIAGRAM):   node_capsno = .;
24194     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
24195     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24196     +   end;
MPRINT(EM_DIAGRAM):   end;
24197     +end;
MPRINT(EM_DIAGRAM):   end;
24198     +
24199     +*** Generate dummy variables for tumor_size ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for tumor_size ;
24200     +drop tumor_size0_4 tumor_size15_19 tumor_size20_24 tumor_size25_29
24201     +        tumor_size30_34 tumor_size35_39 tumor_size40_44 tumor_size44690
24202     +        tumor_size44848 tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   drop tumor_size0_4 tumor_size15_19 tumor_size20_24 tumor_size25_29 tumor_size30_34 tumor_size35_39 tumor_size40_44 tumor_size44690 tumor_size44848 tumor_size45_49 ;
24203     +*** encoding is sparse, initialize to zero;
MPRINT(EM_DIAGRAM):   *** encoding is sparse, initialize to zero;
24204     +tumor_size0_4 = 0;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = 0;
24205     +tumor_size15_19 = 0;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = 0;
24206     +tumor_size20_24 = 0;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = 0;
24207     +tumor_size25_29 = 0;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = 0;
24208     +tumor_size30_34 = 0;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = 0;
24209     +tumor_size35_39 = 0;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = 0;
24210     +tumor_size40_44 = 0;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = 0;
24211     +tumor_size44690 = 0;
MPRINT(EM_DIAGRAM):   tumor_size44690 = 0;
24212     +tumor_size44848 = 0;
MPRINT(EM_DIAGRAM):   tumor_size44848 = 0;
24213     +tumor_size45_49 = 0;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = 0;
24214     +if missing( tumor_size ) then do;
MPRINT(EM_DIAGRAM):   if missing( tumor_size ) then do;
24215     +   tumor_size0_4 = .;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = .;
24216     +   tumor_size15_19 = .;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = .;
24217     +   tumor_size20_24 = .;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = .;
24218     +   tumor_size25_29 = .;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = .;
24219     +   tumor_size30_34 = .;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = .;
24220     +   tumor_size35_39 = .;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = .;
24221     +   tumor_size40_44 = .;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = .;
24222     +   tumor_size44690 = .;
MPRINT(EM_DIAGRAM):   tumor_size44690 = .;
24223     +   tumor_size44848 = .;
MPRINT(EM_DIAGRAM):   tumor_size44848 = .;
24224     +   tumor_size45_49 = .;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = .;
24225     +   substr(_warn_,1,1) = 'M';
MPRINT(EM_DIAGRAM):   substr(_warn_,1,1) = 'M';
24226     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24227     +end;
MPRINT(EM_DIAGRAM):   end;
24228     +else do;
MPRINT(EM_DIAGRAM):   else do;
24229     +   length _dm5 $ 5; drop _dm5 ;
MPRINT(EM_DIAGRAM):   length _dm5 $ 5;
MPRINT(EM_DIAGRAM):   drop _dm5 ;
24230     +   %DMNORMCP( tumor_size , _dm5 )
MPRINT(DMNORMCP):   _dm5=dmnorm(tumor_size,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMCP):  );
24231     +   _dm_find = 0; drop _dm_find;
MPRINT(EM_DIAGRAM):   _dm_find = 0;
MPRINT(EM_DIAGRAM):   drop _dm_find;
24232     +   if _dm5 <= '35-39'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '35-39' then do;
24233     +      if _dm5 <= '20-24'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '20-24' then do;
24234     +         if _dm5 <= '15-19'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '15-19' then do;
24235     +            if _dm5 = '0-4'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '0-4' then do;
24236     +               tumor_size0_4 = 1;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = 1;
24237     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24238     +            end;
MPRINT(EM_DIAGRAM):   end;
24239     +            else do;
MPRINT(EM_DIAGRAM):   else do;
24240     +               if _dm5 = '15-19'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '15-19' then do;
24241     +                  tumor_size15_19 = 1;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = 1;
24242     +                  _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24243     +               end;
MPRINT(EM_DIAGRAM):   end;
24244     +            end;
MPRINT(EM_DIAGRAM):   end;
24245     +         end;
MPRINT(EM_DIAGRAM):   end;
24246     +         else do;
MPRINT(EM_DIAGRAM):   else do;
24247     +            if _dm5 = '20-24'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '20-24' then do;
24248     +               tumor_size20_24 = 1;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = 1;
24249     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24250     +            end;
MPRINT(EM_DIAGRAM):   end;
24251     +         end;
MPRINT(EM_DIAGRAM):   end;
24252     +      end;
MPRINT(EM_DIAGRAM):   end;
24253     +      else do;
MPRINT(EM_DIAGRAM):   else do;
24254     +         if _dm5 <= '30-34'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '30-34' then do;
24255     +            if _dm5 = '25-29'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '25-29' then do;
24256     +               tumor_size25_29 = 1;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = 1;
24257     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24258     +            end;
MPRINT(EM_DIAGRAM):   end;
24259     +            else do;
MPRINT(EM_DIAGRAM):   else do;
24260     +               if _dm5 = '30-34'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '30-34' then do;
24261     +                  tumor_size30_34 = 1;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = 1;
24262     +                  _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24263     +               end;
MPRINT(EM_DIAGRAM):   end;
24264     +            end;
MPRINT(EM_DIAGRAM):   end;
24265     +         end;
MPRINT(EM_DIAGRAM):   end;
24266     +         else do;
MPRINT(EM_DIAGRAM):   else do;
24267     +            if _dm5 = '35-39'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '35-39' then do;
24268     +               tumor_size35_39 = 1;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = 1;
24269     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24270     +            end;
MPRINT(EM_DIAGRAM):   end;
24271     +         end;
MPRINT(EM_DIAGRAM):   end;
24272     +      end;
MPRINT(EM_DIAGRAM):   end;
24273     +   end;
MPRINT(EM_DIAGRAM):   end;
24274     +   else do;
MPRINT(EM_DIAGRAM):   else do;
24275     +      if _dm5 <= '44848'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '44848' then do;
24276     +         if _dm5 <= '44690'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 <= '44690' then do;
24277     +            if _dm5 = '40-44'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '40-44' then do;
24278     +               tumor_size40_44 = 1;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = 1;
24279     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24280     +            end;
MPRINT(EM_DIAGRAM):   end;
24281     +            else do;
MPRINT(EM_DIAGRAM):   else do;
24282     +               if _dm5 = '44690'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '44690' then do;
24283     +                  tumor_size44690 = 1;
MPRINT(EM_DIAGRAM):   tumor_size44690 = 1;
24284     +                  _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24285     +               end;
MPRINT(EM_DIAGRAM):   end;
24286     +            end;
MPRINT(EM_DIAGRAM):   end;
24287     +         end;
MPRINT(EM_DIAGRAM):   end;
24288     +         else do;
MPRINT(EM_DIAGRAM):   else do;
24289     +            if _dm5 = '44848'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '44848' then do;
24290     +               tumor_size44848 = 1;
MPRINT(EM_DIAGRAM):   tumor_size44848 = 1;
24291     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24292     +            end;
MPRINT(EM_DIAGRAM):   end;
24293     +         end;
MPRINT(EM_DIAGRAM):   end;
24294     +      end;
MPRINT(EM_DIAGRAM):   end;
24295     +      else do;
MPRINT(EM_DIAGRAM):   else do;
24296     +         if _dm5 = '45-49'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '45-49' then do;
24297     +            tumor_size45_49 = 1;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = 1;
24298     +            _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24299     +         end;
MPRINT(EM_DIAGRAM):   end;
24300     +         else do;
MPRINT(EM_DIAGRAM):   else do;
24301     +            if _dm5 = '50-54'  then do;
MPRINT(EM_DIAGRAM):   if _dm5 = '50-54' then do;
24302     +               tumor_size0_4 = -1;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = -1;
24303     +               tumor_size15_19 = -1;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = -1;
24304     +               tumor_size20_24 = -1;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = -1;
24305     +               tumor_size25_29 = -1;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = -1;
24306     +               tumor_size30_34 = -1;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = -1;
24307     +               tumor_size35_39 = -1;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = -1;
24308     +               tumor_size40_44 = -1;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = -1;
24309     +               tumor_size44690 = -1;
MPRINT(EM_DIAGRAM):   tumor_size44690 = -1;
24310     +               tumor_size44848 = -1;
MPRINT(EM_DIAGRAM):   tumor_size44848 = -1;
24311     +               tumor_size45_49 = -1;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = -1;
24312     +               _dm_find = 1;
MPRINT(EM_DIAGRAM):   _dm_find = 1;
24313     +            end;
MPRINT(EM_DIAGRAM):   end;
24314     +         end;
MPRINT(EM_DIAGRAM):   end;
24315     +      end;
MPRINT(EM_DIAGRAM):   end;
24316     +   end;
MPRINT(EM_DIAGRAM):   end;
24317     +   if not _dm_find then do;
MPRINT(EM_DIAGRAM):   if not _dm_find then do;
24318     +      tumor_size0_4 = .;
MPRINT(EM_DIAGRAM):   tumor_size0_4 = .;
24319     +      tumor_size15_19 = .;
MPRINT(EM_DIAGRAM):   tumor_size15_19 = .;
24320     +      tumor_size20_24 = .;
MPRINT(EM_DIAGRAM):   tumor_size20_24 = .;
24321     +      tumor_size25_29 = .;
MPRINT(EM_DIAGRAM):   tumor_size25_29 = .;
24322     +      tumor_size30_34 = .;
MPRINT(EM_DIAGRAM):   tumor_size30_34 = .;
24323     +      tumor_size35_39 = .;
MPRINT(EM_DIAGRAM):   tumor_size35_39 = .;
24324     +      tumor_size40_44 = .;
MPRINT(EM_DIAGRAM):   tumor_size40_44 = .;
24325     +      tumor_size44690 = .;
MPRINT(EM_DIAGRAM):   tumor_size44690 = .;
24326     +      tumor_size44848 = .;
MPRINT(EM_DIAGRAM):   tumor_size44848 = .;
24327     +      tumor_size45_49 = .;
MPRINT(EM_DIAGRAM):   tumor_size45_49 = .;
24328     +      substr(_warn_,2,1) = 'U';
MPRINT(EM_DIAGRAM):   substr(_warn_,2,1) = 'U';
24329     +      _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24330     +   end;
MPRINT(EM_DIAGRAM):   end;
24331     +end;
MPRINT(EM_DIAGRAM):   end;
24332     +
24333     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24334     +*** Checking missing input Interval
24335     +*** *************************;
MPRINT(EM_DIAGRAM):   *** Checking missing input Interval *** *************************;
24336     +
24337     +IF NMISS(
24338     +   REP_deg_malig   ) THEN DO;
MPRINT(EM_DIAGRAM):   IF NMISS( REP_deg_malig ) THEN DO;
24339     +   SUBSTR(_WARN_, 1, 1) = 'M';
MPRINT(EM_DIAGRAM):   SUBSTR(_WARN_, 1, 1) = 'M';
24340     +
24341     +   _DM_BAD = 1;
MPRINT(EM_DIAGRAM):   _DM_BAD = 1;
24342     +END;
MPRINT(EM_DIAGRAM):   END;
24343     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24344     +*** Writing the Node intvl ;
MPRINT(EM_DIAGRAM):   *** Writing the Node intvl ;
24345     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24346     +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
24347     +   S_REP_deg_malig  =    -2.68808602012898 +     1.34404301006449 *
24348     +        REP_deg_malig ;
MPRINT(EM_DIAGRAM):   S_REP_deg_malig = -2.68808602012898 + 1.34404301006449 * REP_deg_malig ;
24349     +END;
MPRINT(EM_DIAGRAM):   END;
24350     +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
24351     +   IF MISSING( REP_deg_malig ) THEN S_REP_deg_malig  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( REP_deg_malig ) THEN S_REP_deg_malig = . ;
24352     +   ELSE S_REP_deg_malig  =    -2.68808602012898 +     1.34404301006449 *
24353     +        REP_deg_malig ;
MPRINT(EM_DIAGRAM):   ELSE S_REP_deg_malig = -2.68808602012898 + 1.34404301006449 * REP_deg_malig ;
24354     +END;
MPRINT(EM_DIAGRAM):   END;
24355     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24356     +*** Writing the Node nom ;
MPRINT(EM_DIAGRAM):   *** Writing the Node nom ;
24357     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24358     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24359     +*** Writing the Node H1 ;
MPRINT(EM_DIAGRAM):   *** Writing the Node H1 ;
24360     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24361     +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
24362     +   H11  =     1.29967673953753 * S_REP_deg_malig ;
MPRINT(EM_DIAGRAM):   H11 = 1.29967673953753 * S_REP_deg_malig ;
24363     +   H12  =     0.77557932218669 * S_REP_deg_malig ;
MPRINT(EM_DIAGRAM):   H12 = 0.77557932218669 * S_REP_deg_malig ;
24364     +   H13  =     0.93861734109454 * S_REP_deg_malig ;
MPRINT(EM_DIAGRAM):   H13 = 0.93861734109454 * S_REP_deg_malig ;
24365     +   H11  = H11  +    -1.89372871343458 * age30_39  +     1.18159083875833 *
24366     +        age40_49  +    -0.57559912145065 * age50_59  +     0.31042061420126 *
24367     +        age60_69  +     0.56619109372632 * breastleft
24368     +          +     1.36896142238565 * breast_quad_  +     0.21779831783121 *
24369     +        breast_quadcentral  +    -0.73295582617479 * breast_quadleft_low
24370     +          +    -1.06669093387924 * breast_quadleft_up
24371     +          +    -0.21242656921669 * breast_quadright_low
24372     +          +    -1.23619982942799 * inv_nodes0_2  +     0.02462988713114 *
24373     +        inv_nodes15_17  +     0.72502982044539 * inv_nodes24_26
24374     +          +     0.87268312051735 * inv_nodes44625  +     0.78653355770398 *
24375     +        inv_nodes44720  +    -0.47220474424347 * irradiatno
24376     +          +     0.02918884968034 * menopausege40  +     0.49548647655557 *
24377     +        menopauselt40  +    -0.21771818662549 * node_caps_
24378     +          +     0.34207511738672 * node_capsno  +    -0.25759794857211 *
24379     +        tumor_size0_4  +     0.06070260861424 * tumor_size15_19
24380     +          +    -0.11304351627301 * tumor_size20_24  +      1.5540780601561 *
24381     +        tumor_size25_29  +     0.21361719394588 * tumor_size30_34
24382     +          +    -1.03142801038156 * tumor_size35_39  +    -0.01717462712527 *
24383     +        tumor_size40_44  +    -0.77373145085077 * tumor_size44690
24384     +          +    -1.67679450843088 * tumor_size44848  +     -0.8651042227298 *
24385     +        tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   H11 = H11 + -1.89372871343458 * age30_39 + 1.18159083875833 * age40_49 + -0.57559912145065 * age50_59 + 0.31042061420126 * age60_69 + 0.56619109372632 * breastleft + 1.36896142238565 * breast_quad_ + 0.21779831783121 * 
breast_quadcentral + -0.73295582617479 * breast_quadleft_low + -1.06669093387924 * breast_quadleft_up + -0.21242656921669 * breast_quadright_low + -1.23619982942799 * inv_nodes0_2 + 0.02462988713114 * inv_nodes15_17 + 0.72502982044539 * inv_nodes24_26 + 
0.87268312051735 * inv_nodes44625 + 0.78653355770398 * inv_nodes44720 + -0.47220474424347 * irradiatno + 0.02918884968034 * menopausege40 + 0.49548647655557 * menopauselt40 + -0.21771818662549 * node_caps_ + 0.34207511738672 * node_capsno + 
-0.25759794857211 * tumor_size0_4 + 0.06070260861424 * tumor_size15_19 + -0.11304351627301 * tumor_size20_24 + 1.5540780601561 * tumor_size25_29 + 0.21361719394588 * tumor_size30_34 + -1.03142801038156 * tumor_size35_39 + -0.01717462712527 * 
tumor_size40_44 + -0.77373145085077 * tumor_size44690 + -1.67679450843088 * tumor_size44848 + -0.8651042227298 * tumor_size45_49 ;
24386     +   H12  = H12  +     0.06884357533829 * age30_39  +    -0.56691097865869 *
24387     +        age40_49  +    -0.36045254602412 * age50_59  +    -0.06498825288945 *
24388     +        age60_69  +    -0.12988742430684 * breastleft
24389     +          +    -1.23590863994246 * breast_quad_  +    -0.58866870110724 *
24390     +        breast_quadcentral  +    -0.77016750190741 * breast_quadleft_low
24391     +          +    -0.05541145822809 * breast_quadleft_up
24392     +          +     1.06031463214452 * breast_quadright_low
24393     +          +      0.9900301084414 * inv_nodes0_2  +    -1.49860847474921 *
24394     +        inv_nodes15_17  +     -0.5679948428652 * inv_nodes24_26
24395     +          +     1.34677523660967 * inv_nodes44625  +    -0.37318615410526 *
24396     +        inv_nodes44720  +    -0.72398863264201 * irradiatno
24397     +          +    -0.75855801811773 * menopausege40  +     0.08375395231908 *
24398     +        menopauselt40  +     1.82983523525421 * node_caps_
24399     +          +     0.09630010197492 * node_capsno  +     1.07067110087746 *
24400     +        tumor_size0_4  +    -0.23395224211477 * tumor_size15_19
24401     +          +     0.05786191231766 * tumor_size20_24  +    -0.44650429056006 *
24402     +        tumor_size25_29  +    -2.82450583016768 * tumor_size30_34
24403     +          +    -0.21439553569815 * tumor_size35_39  +     0.41256268346618 *
24404     +        tumor_size40_44  +     0.49053243663712 * tumor_size44690
24405     +          +     1.13109356273131 * tumor_size44848  +     0.43329679504995 *
24406     +        tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   H12 = H12 + 0.06884357533829 * age30_39 + -0.56691097865869 * age40_49 + -0.36045254602412 * age50_59 + -0.06498825288945 * age60_69 + -0.12988742430684 * breastleft + -1.23590863994246 * breast_quad_ + -0.58866870110724 * 
breast_quadcentral + -0.77016750190741 * breast_quadleft_low + -0.05541145822809 * breast_quadleft_up + 1.06031463214452 * breast_quadright_low + 0.9900301084414 * inv_nodes0_2 + -1.49860847474921 * inv_nodes15_17 + -0.5679948428652 * inv_nodes24_26 + 
1.34677523660967 * inv_nodes44625 + -0.37318615410526 * inv_nodes44720 + -0.72398863264201 * irradiatno + -0.75855801811773 * menopausege40 + 0.08375395231908 * menopauselt40 + 1.82983523525421 * node_caps_ + 0.09630010197492 * node_capsno + 
1.07067110087746 * tumor_size0_4 + -0.23395224211477 * tumor_size15_19 + 0.05786191231766 * tumor_size20_24 + -0.44650429056006 * tumor_size25_29 + -2.82450583016768 * tumor_size30_34 + -0.21439553569815 * tumor_size35_39 + 0.41256268346618 * 
tumor_size40_44 + 0.49053243663712 * tumor_size44690 + 1.13109356273131 * tumor_size44848 + 0.43329679504995 * tumor_size45_49 ;
24407     +   H13  = H13  +    -0.23234156974234 * age30_39  +      1.0453809577246 *
24408     +        age40_49  +     -1.1504489715378 * age50_59  +      0.7291309680577 *
24409     +        age60_69  +    -2.08405804299412 * breastleft
24410     +          +     0.31082180764289 * breast_quad_  +      0.6476098103614 *
24411     +        breast_quadcentral  +    -1.27138438353605 * breast_quadleft_low
24412     +          +      -1.009485406465 * breast_quadleft_up
24413     +          +     0.62890071564239 * breast_quadright_low
24414     +          +    -0.73615560860124 * inv_nodes0_2  +     0.42203816182367 *
24415     +        inv_nodes15_17  +     0.27803140853519 * inv_nodes24_26
24416     +          +     0.35949201634582 * inv_nodes44625  +    -0.42535257558671 *
24417     +        inv_nodes44720  +     -1.3892809236171 * irradiatno
24418     +          +    -1.46889950459836 * menopausege40  +    -1.17916866693018 *
24419     +        menopauselt40  +    -0.16702066164127 * node_caps_
24420     +          +     1.33367831970141 * node_capsno  +     -0.6036963995967 *
24421     +        tumor_size0_4  +    -0.45004817016056 * tumor_size15_19
24422     +          +     1.65495374032886 * tumor_size20_24  +    -0.70762461266355 *
24423     +        tumor_size25_29  +    -1.40476101029433 * tumor_size30_34
24424     +          +     0.05674606572907 * tumor_size35_39  +     1.74232452638987 *
24425     +        tumor_size40_44  +    -0.41196520167185 * tumor_size44690
24426     +          +    -0.74923948169842 * tumor_size44848  +    -0.35151710343101 *
24427     +        tumor_size45_49 ;
MPRINT(EM_DIAGRAM):   H13 = H13 + -0.23234156974234 * age30_39 + 1.0453809577246 * age40_49 + -1.1504489715378 * age50_59 + 0.7291309680577 * age60_69 + -2.08405804299412 * breastleft + 0.31082180764289 * breast_quad_ + 0.6476098103614 * 
breast_quadcentral + -1.27138438353605 * breast_quadleft_low + -1.009485406465 * breast_quadleft_up + 0.62890071564239 * breast_quadright_low + -0.73615560860124 * inv_nodes0_2 + 0.42203816182367 * inv_nodes15_17 + 0.27803140853519 * inv_nodes24_26 + 
0.35949201634582 * inv_nodes44625 + -0.42535257558671 * inv_nodes44720 + -1.3892809236171 * irradiatno + -1.46889950459836 * menopausege40 + -1.17916866693018 * menopauselt40 + -0.16702066164127 * node_caps_ + 1.33367831970141 * node_capsno + 
-0.6036963995967 * tumor_size0_4 + -0.45004817016056 * tumor_size15_19 + 1.65495374032886 * tumor_size20_24 + -0.70762461266355 * tumor_size25_29 + -1.40476101029433 * tumor_size30_34 + 0.05674606572907 * tumor_size35_39 + 1.74232452638987 * 
tumor_size40_44 + -0.41196520167185 * tumor_size44690 + -0.74923948169842 * tumor_size44848 + -0.35151710343101 * tumor_size45_49 ;
24428     +   H11  =    -1.53737817308102 + H11 ;
MPRINT(EM_DIAGRAM):   H11 = -1.53737817308102 + H11 ;
24429     +   H12  =     0.22368104037921 + H12 ;
MPRINT(EM_DIAGRAM):   H12 = 0.22368104037921 + H12 ;
24430     +   H13  =     0.71788270115108 + H13 ;
MPRINT(EM_DIAGRAM):   H13 = 0.71788270115108 + H13 ;
24431     +   H11  = TANH(H11 );
MPRINT(EM_DIAGRAM):   H11 = TANH(H11 );
24432     +   H12  = TANH(H12 );
MPRINT(EM_DIAGRAM):   H12 = TANH(H12 );
24433     +   H13  = TANH(H13 );
MPRINT(EM_DIAGRAM):   H13 = TANH(H13 );
24434     +END;
MPRINT(EM_DIAGRAM):   END;
24435     +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
24436     +   H11  = .;
MPRINT(EM_DIAGRAM):   H11 = .;
24437     +   H12  = .;
MPRINT(EM_DIAGRAM):   H12 = .;
24438     +   H13  = .;
MPRINT(EM_DIAGRAM):   H13 = .;
24439     +END;
MPRINT(EM_DIAGRAM):   END;
24440     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24441     +*** Writing the Node class ;
MPRINT(EM_DIAGRAM):   *** Writing the Node class ;
24442     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24443     +
24444     +*** Generate dummy variables for class ;
MPRINT(EM_DIAGRAM):   *** Generate dummy variables for class ;
24445     +drop classrecurrence_events classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   drop classrecurrence_events classno_recurrence_events ;
24446     +label F_class = 'From: class' ;
MPRINT(EM_DIAGRAM):   label F_class = 'From: class' ;
24447     +length F_class $ 20;
MPRINT(EM_DIAGRAM):   length F_class $ 20;
24448     +F_class = put( class , $20. );
MPRINT(EM_DIAGRAM):   F_class = put( class , $20. );
24449     +%DMNORMIP( F_class )
MPRINT(DMNORMIP):   call dmnorm(F_class,
MPRINT(DMNORLEN):  32
MPRINT(DMNORMIP):  );
24450     +if missing( class ) then do;
MPRINT(EM_DIAGRAM):   if missing( class ) then do;
24451     +   classrecurrence_events = .;
MPRINT(EM_DIAGRAM):   classrecurrence_events = .;
24452     +   classno_recurrence_events = .;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = .;
24453     +end;
MPRINT(EM_DIAGRAM):   end;
24454     +else do;
MPRINT(EM_DIAGRAM):   else do;
24455     +   if F_class = 'NO-RECURRENCE-EVENTS'  then do;
MPRINT(EM_DIAGRAM):   if F_class = 'NO-RECURRENCE-EVENTS' then do;
24456     +      classrecurrence_events = 0;
MPRINT(EM_DIAGRAM):   classrecurrence_events = 0;
24457     +      classno_recurrence_events = 1;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = 1;
24458     +   end;
MPRINT(EM_DIAGRAM):   end;
24459     +   else if F_class = 'RECURRENCE-EVENTS'  then do;
MPRINT(EM_DIAGRAM):   else if F_class = 'RECURRENCE-EVENTS' then do;
24460     +      classrecurrence_events = 1;
MPRINT(EM_DIAGRAM):   classrecurrence_events = 1;
24461     +      classno_recurrence_events = 0;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = 0;
24462     +   end;
MPRINT(EM_DIAGRAM):   end;
24463     +   else do;
MPRINT(EM_DIAGRAM):   else do;
24464     +      classrecurrence_events = .;
MPRINT(EM_DIAGRAM):   classrecurrence_events = .;
24465     +      classno_recurrence_events = .;
MPRINT(EM_DIAGRAM):   classno_recurrence_events = .;
24466     +   end;
MPRINT(EM_DIAGRAM):   end;
24467     +end;
MPRINT(EM_DIAGRAM):   end;
24468     +IF _DM_BAD EQ 0 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 0 THEN DO;
24469     +   P_classrecurrence_events  =     5.22644220551255 * H11
24470     +          +     -5.0201589606459 * H12  +     5.06988151887359 * H13 ;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = 5.22644220551255 * H11 + -5.0201589606459 * H12 + 5.06988151887359 * H13 ;
24471     +   P_classrecurrence_events  =    -0.02383213105302 + P_classrecurrence_events
24472     +         ;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = -0.02383213105302 + P_classrecurrence_events ;
24473     +   P_classno_recurrence_events  = 0;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = 0;
24474     +   _MAX_ = MAX (P_classrecurrence_events , P_classno_recurrence_events );
MPRINT(EM_DIAGRAM):   _MAX_ = MAX (P_classrecurrence_events , P_classno_recurrence_events );
24475     +   _SUM_ = 0.;
MPRINT(EM_DIAGRAM):   _SUM_ = 0.;
24476     +   P_classrecurrence_events  = EXP(P_classrecurrence_events  - _MAX_);
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = EXP(P_classrecurrence_events - _MAX_);
24477     +   _SUM_ = _SUM_ + P_classrecurrence_events ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_classrecurrence_events ;
24478     +   P_classno_recurrence_events  = EXP(P_classno_recurrence_events  - _MAX_);
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = EXP(P_classno_recurrence_events - _MAX_);
24479     +   _SUM_ = _SUM_ + P_classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   _SUM_ = _SUM_ + P_classno_recurrence_events ;
24480     +   P_classrecurrence_events  = P_classrecurrence_events  / _SUM_;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = P_classrecurrence_events / _SUM_;
24481     +   P_classno_recurrence_events  = P_classno_recurrence_events  / _SUM_;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = P_classno_recurrence_events / _SUM_;
24482     +END;
MPRINT(EM_DIAGRAM):   END;
24483     +ELSE DO;
MPRINT(EM_DIAGRAM):   ELSE DO;
24484     +   P_classrecurrence_events  = .;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = .;
24485     +   P_classno_recurrence_events  = .;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = .;
24486     +END;
MPRINT(EM_DIAGRAM):   END;
24487     +IF _DM_BAD EQ 1 THEN DO;
MPRINT(EM_DIAGRAM):   IF _DM_BAD EQ 1 THEN DO;
24488     +   P_classrecurrence_events  =     0.29203539823008;
MPRINT(EM_DIAGRAM):   P_classrecurrence_events = 0.29203539823008;
24489     +   P_classno_recurrence_events  =     0.70796460176991;
MPRINT(EM_DIAGRAM):   P_classno_recurrence_events = 0.70796460176991;
24490     +END;
MPRINT(EM_DIAGRAM):   END;
24491     +*** *****************************;
MPRINT(EM_DIAGRAM):   *** *****************************;
24492     +*** Writing the Residuals  of the Node class ;
MPRINT(EM_DIAGRAM):   *** Writing the Residuals of the Node class ;
24493     +*** ******************************;
MPRINT(EM_DIAGRAM):   *** ******************************;
24494     +IF MISSING( classrecurrence_events ) THEN R_classrecurrence_events  = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( classrecurrence_events ) THEN R_classrecurrence_events = . ;
24495     +ELSE R_classrecurrence_events  = classrecurrence_events  -
24496     +        P_classrecurrence_events ;
MPRINT(EM_DIAGRAM):   ELSE R_classrecurrence_events = classrecurrence_events - P_classrecurrence_events ;
24497     +IF MISSING( classno_recurrence_events ) THEN R_classno_recurrence_events
24498     +          = . ;
MPRINT(EM_DIAGRAM):   IF MISSING( classno_recurrence_events ) THEN R_classno_recurrence_events = . ;
24499     +ELSE R_classno_recurrence_events  = classno_recurrence_events  -
24500     +        P_classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   ELSE R_classno_recurrence_events = classno_recurrence_events - P_classno_recurrence_events ;
24501     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24502     +*** Writing the I_class  AND U_class ;
MPRINT(EM_DIAGRAM):   *** Writing the I_class AND U_class ;
24503     +*** *************************;
MPRINT(EM_DIAGRAM):   *** *************************;
24504     +_MAXP_ = P_classrecurrence_events ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_classrecurrence_events ;
24505     +I_class  = "RECURRENCE-EVENTS   " ;
MPRINT(EM_DIAGRAM):   I_class = "RECURRENCE-EVENTS   " ;
24506     +U_class  = "recurrence-events   " ;
MPRINT(EM_DIAGRAM):   U_class = "recurrence-events   " ;
24507     +IF( _MAXP_ LT P_classno_recurrence_events  ) THEN DO;
MPRINT(EM_DIAGRAM):   IF( _MAXP_ LT P_classno_recurrence_events ) THEN DO;
24508     +   _MAXP_ = P_classno_recurrence_events ;
MPRINT(EM_DIAGRAM):   _MAXP_ = P_classno_recurrence_events ;
24509     +   I_class  = "NO-RECURRENCE-EVENTS" ;
MPRINT(EM_DIAGRAM):   I_class = "NO-RECURRENCE-EVENTS" ;
24510     +   U_class  = "no-recurrence-events" ;
MPRINT(EM_DIAGRAM):   U_class = "no-recurrence-events" ;
24511     +END;
MPRINT(EM_DIAGRAM):   END;
24512     +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
24513     +*** End Scoring Code for Neural;
MPRINT(EM_DIAGRAM):   *** End Scoring Code for Neural;
24514     +********************************;
MPRINT(EM_DIAGRAM):   ********************************;
24515     +drop
24516     +H11
24517     +H12
24518     +H13
24519     +;
MPRINT(EM_DIAGRAM):   drop H11 H12 H13 ;
24520     +drop S_:;
MPRINT(EM_DIAGRAM):   drop S_:;
NOTE: %INCLUDE (level 1) ending.
MPRINT(EM_DIAGRAM):   run;
24521      run;

NOTE: DATA STEP view saved on file EMWS1.NEURAL_TEST.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.TRANS_TEST.VIEW used (Total process time):
      real time           0.17 seconds
      cpu time            0.18 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.19 seconds
      cpu time            0.21 seconds
      

MPRINT(EM_DIAGRAM):   quit;
24522      quit;
24523      filename emflow;
MPRINT(EM_DIAGRAM):   filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
24524      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
24525      * Neural: Computing metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   * Neural: Computing metadata for TRAIN data;
24526      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;

NOTE: View EMWS1.NEURAL_TRAIN.VIEW used (Total process time):
      real time           0.22 seconds
      cpu time            0.22 seconds
      
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Computing Metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   filename _delta "D:\\BAN210PA\Workspaces\EMWS1\Neural\CDELTA_TRAIN.sas";
MPRINT(EMADVISECOLUMNS):   proc display c=sashelp.emmeta.advisecolumns.scl;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    options validvarname=any;
MPRINT(EMADVISECOLUMNS):   proc contents data=EMWS1.Neural_TRAIN out=_tempAdvisor noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   options validvarname=V7;
MPRINT(EMADVISECOLUMNS):    data _null_;
MPRINT(EMADVISECOLUMNS):   dsid = open('EMWS1.Neural_TRAIN');
MPRINT(EMADVISECOLUMNS):   call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EMADVISECOLUMNS):   if dsid then do;
MPRINT(EMADVISECOLUMNS):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EMADVISECOLUMNS):   dsid = close(dsid);
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc contents data=EMWS1.Neural_TRAIN out=WORK.M208U11Y noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M208U11Y;
MPRINT(EMADVISECOLUMNS):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 36 INFORMAT $36 INDEX $ 1 INDEXTYPE $ 9;
MPRINT(EMADVISECOLUMNS):   label NAME =;
MPRINT(EMADVISECOLUMNS):   set WORK.M208U11Y(keep=name type length label format formatl formatd informat informl informd idxusage rename=(type=itype));
MPRINT(EMADVISECOLUMNS):   if itype = 1 then type = 'N';
MPRINT(EMADVISECOLUMNS):   else type = 'C';
MPRINT(EMADVISECOLUMNS):   if formatl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if format ne '' then do;
MPRINT(EMADVISECOLUMNS):   if type='N' then format = strip(format)!!strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   else format = strip(format)!!strip(put(formatl, best12.))!!'.';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if format ne '' then format = strip(format)!!'.';
MPRINT(EMADVISECOLUMNS):   if informl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if informat ne ' ' then do;
MPRINT(EMADVISECOLUMNS):   if type='N' then informat = strip(informat)!!strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   else informat = strip(informat)!!strip(put(informl, best12.))!!'.';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EMADVISECOLUMNS):   if idxusage = 'NONE' then index ="N";
MPRINT(EMADVISECOLUMNS):   else index = "Y";
MPRINT(EMADVISECOLUMNS):   indextype = idxusage;
MPRINT(EMADVISECOLUMNS):   drop idxusage itype formatl formatd informl informd;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M208U11Y;
MPRINT(EMADVISECOLUMNS):   length UNAME $64;
MPRINT(EMADVISECOLUMNS):   set WORK.M208U11Y;
MPRINT(EMADVISECOLUMNS):   UNAME = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc sort data=WORK.M3MVOVR9 NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by UNAME;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M3MVOVR9;
MPRINT(EMADVISECOLUMNS):   drop UNAME;
MPRINT(EMADVISECOLUMNS):   set WORK.M3MVOVR9;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M0W2JZA_(keep=NAME ATTR);
MPRINT(EMADVISECOLUMNS):   length ATTR $ 20;
MPRINT(EMADVISECOLUMNS):   set WORK.M3MVOVR9;
MPRINT(EMADVISECOLUMNS):   if level ne "INTERVAL" then do;
MPRINT(EMADVISECOLUMNS):   if order = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ORDER';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'FORMATTYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ROLE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'LEVEL';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if type = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'TYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if index = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'INDEX';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if report = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'REPORT';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   proc sort NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by attr;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M3MVOVR9;
MPRINT(EMADVISECOLUMNS):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EMADVISECOLUMNS):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EMADVISECOLUMNS):   set WORK.M3MVOVR9;
MPRINT(EMADVISECOLUMNS):   if formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' then do;
MPRINT(EMADVISECOLUMNS):   if type = 'N' then do;
MPRINT(EMADVISECOLUMNS):   pos = indexc(format,'.1234567890');
MPRINT(EMADVISECOLUMNS):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EMADVISECOLUMNS):   else tempfmt = ' ';
MPRINT(EMADVISECOLUMNS):   flen = length(tempfmt);
MPRINT(EMADVISECOLUMNS):   select;
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" "MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" "QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX" 
"YEAR" "YYMMDD" "YYMON" "YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" "EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) formattype = 'DATE';
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" "NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" "Z" "ZD")) formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   formattype = "USER";
MPRINT(EMADVISECOLUMNS):   if compress(tempfmt, '0123456789.', '') = '' then formattype='NUM';
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   else if flen >= 4 then do;
MPRINT(EMADVISECOLUMNS):   str = substr(tempfmt,1,4);
MPRINT(EMADVISECOLUMNS):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EMADVISECOLUMNS):   else if str = "S370" then formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   else if str = "BEST" then formattype = "NUM";
MPRINT(EMADVISECOLUMNS):   drop str;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = "DATE";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   drop flen tempfmt pos;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   formatType = "CATEGORY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if formatType = "NUM" then do;
MPRINT(EMADVISECOLUMNS):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EMADVISECOLUMNS):   else formatType = "QUANTITY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = "NOMINAL";
MPRINT(EMADVISECOLUMNS):   else level = "INTERVAL";
MPRINT(EMADVISECOLUMNS):   levelAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else level = upcase(level);
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   length name_prefix $8 _uname $64;
MPRINT(EMADVISECOLUMNS):   drop name_prefix _uname _freqflag;
MPRINT(EMADVISECOLUMNS):   retain _freqflag;
MPRINT(EMADVISECOLUMNS):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EMADVISECOLUMNS):   _uname = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   select(_uname);
MPRINT(EMADVISECOLUMNS):   when('_PARTIND_') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'ID';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_SEGMENT') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('_NODE_') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('URI') ROLE = 'URL';
MPRINT(EMADVISECOLUMNS):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'REJECTED';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'FREQ';
MPRINT(EMADVISECOLUMNS):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EMADVISECOLUMNS):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   name_prefix = scan(_uname, 1, '_');
MPRINT(EMADVISECOLUMNS):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EMADVISECOLUMNS):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('Q') then ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 'RAT') then ROLE = 'RESIDUAL';
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='D' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='B' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 'IC') then ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 'TIMEID');
MPRINT(EMADVISECOLUMNS):   drop _found_ i;
MPRINT(EMADVISECOLUMNS):   _found_=0;
MPRINT(EMADVISECOLUMNS):   do i=1 to 19 until(_found_=1);
MPRINT(EMADVISECOLUMNS):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EMADVISECOLUMNS):   ROLE=_ROLE_{i};
MPRINT(EMADVISECOLUMNS):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EMADVISECOLUMNS):   _found_=1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if length(_uname)>2 then do;
MPRINT(EMADVISECOLUMNS):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'ID';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   if symexist('RATEMKG_ROLE') then do;
MPRINT(EMADVISECOLUMNS):   if upcase(symget('RATEMKG_ROLE')) in('Y', 'YES') then do;
MPRINT(EMADVISECOLUMNS):   if _uname =: 'POLICY' then ROLE = 'POLICYID';
MPRINT(EMADVISECOLUMNS):   else if _uname in ('PARTITION', '_PARTIND_') then ROLE = 'PARTITION';
MPRINT(EMADVISECOLUMNS):   else if type = 'N' then do;
MPRINT(EMADVISECOLUMNS):   if _uname = 'EXPOSURE' then ROLE = 'EXPOSURE';
MPRINT(EMADVISECOLUMNS):   else if _uname = 'YEAR' then ROLE = 'YEAR';
MPRINT(EMADVISECOLUMNS):   else if _uname = 'WEIGHT' then ROLE = 'WEIGHT';
MPRINT(EMADVISECOLUMNS):   else if _uname = 'OFFSET' then ROLE = 'OFFSET';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EMADVISECOLUMNS):   else role = 'INPUT';
MPRINT(EMADVISECOLUMNS):   roleAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else role = upcase(role);
MPRINT(EMADVISECOLUMNS):   if REPORT = '' then REPORT = 'N';
MPRINT(EMADVISECOLUMNS):   if symexist('dmwb_product') then do;
MPRINT(EMADVISECOLUMNS):   if upcase(symget('dmwb_product')) = 'FACTORYMINER_DATASOURCE' then do;
MPRINT(EMADVISECOLUMNS):   if ROLE ^in('INPUT', 'TARGET', 'REJECTED', 'SEGMENT', 'FREQ', 'ID', 'KEY') then ROLE='REJECTED';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M3MVOVR9;
MPRINT(EMADVISECOLUMNS):   set WORK.M3MVOVR9;
MPRINT(EMADVISECOLUMNS):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= "Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= "Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower 
limit" UPPERLIMIT= "Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= "Label" LENGTH= "Length";
MPRINT(EMADVISECOLUMNS):   drop levelAssigned roleAssigned;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.COLUMNMETA;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Merge incoming metadata;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS1.Trans_TRAIN noprint out=_temp2(keep=NAME);
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_temp2;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Trans_CMeta_TRAIN out=_temp;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data EMWS1.Neural_CMeta_TRAIN;
MPRINT(EM_DIAGRAM):   merge WORK.COLUMNMETA(in=_a) _temp2(in=_b) _temp(drop=FORMAT INFORMAT LENGTH INDEX INDEXTYPE in=_c) end=_eof_;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   if (^_a and _b) or (^_c and _a and _b) then delete;
MPRINT(EM_DIAGRAM):   if ^_b then CREATOR = "Neural";
MPRINT(EM_DIAGRAM):   length model $200;
MPRINT(EM_DIAGRAM):   label MODEL = "Model Node";
MPRINT(EM_DIAGRAM):   select(upcase(name));
MPRINT(EM_DIAGRAM):   when("CLASS") model = "Neural";
MPRINT(EM_DIAGRAM):   when('');
MPRINT(EM_DIAGRAM):   otherwise;
MPRINT(EM_DIAGRAM):   end;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Neural: Apply Delta Code;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _delta;
24871      data EMWS1.Neural_EMINFO;
MPRINT(EM_DIAGRAM):    data EMWS1.Neural_EMINFO;
24872      length TARGET KEY $32 DATA $43;
MPRINT(EM_DIAGRAM):   length TARGET KEY $32 DATA $43;
24873      input TARGET KEY DATA $;
MPRINT(EM_DIAGRAM):   input TARGET KEY DATA $;
24874      cards;
MPRINT(EM_DIAGRAM):   cards;

NOTE: The data set EMWS1.NEURAL_EMINFO has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

MPRINT(EM_DIAGRAM):   run;
24878      run;
24879      proc sort data = EMWS1.Neural_EMINFO NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data = EMWS1.Neural_EMINFO NOTHREADS;
24880      by TARGET KEY;
MPRINT(EM_DIAGRAM):   by TARGET KEY;
24881      run;
MPRINT(EM_DIAGRAM):   run;

NOTE: There were 3 observations read from the data set EMWS1.NEURAL_EMINFO.
NOTE: The data set EMWS1.NEURAL_EMINFO has 3 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

NOTE: View EMWS1.NEURAL_TRAIN.VIEW used (Total process time):
      real time           0.20 seconds
      cpu time            0.20 seconds
      
NOTE: View EMWS1.NEURAL_VALIDATE.VIEW used (Total process time):
      real time           0.19 seconds
      cpu time            0.21 seconds
      
NOTE: View EMWS1.NEURAL_TEST.VIEW used (Total process time):
      real time           0.19 seconds
      cpu time            0.20 seconds
      
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
